{"version":3,"sources":["Assets/logo.svg","Utils/history.js","Components/Layout/LayoutBase.js","Hooks/useLoading.js","Utils/fetchGraphql.js","Service/Login.js","Pages/Login/Login.js","Pages/Dashboard/Dashboard.js","Components/Modal/AddNewAssignmentModal.js","Hooks/useModal.js","Service/Assignment.js","Constants/assignmentConst.js","Pages/Assignment/Assignment.js","Components/Modal/UserModal.js","Service/User.js","Pages/User/User.js","Service/Timeline.js","Components/Modal/AddNewTimelineModal.js","Utils/date.js","Pages/Timeline/Timeline.js","Utils/mutationGraphql.js","Service/OrganizationContent.js","Pages/OrganizationContent/OrganizationContent.js","Components/RichTextEditor/RichTextEditor.js","Pages/OrganizationContent/OrganizationContentForm.js","Components/Card/StoreCard.js","Components/Modal/ProductFormModal.js","Service/Store.js","Pages/Store/Store.js","Components/Modal/LeaderboardFormModal.js","Utils/readExcel.js","Service/Leaderboard.js","Pages/Leaderboard/Leaderboard.js","Components/Comment/CommentEditor.js","Components/Comment/Comment.js","Service/QNA.js","Pages/QNA/QNA.js","routes.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","history","createBrowserHistory","Content","Layout","Footer","Sider","Text","Typography","Link","menuItems","route","name","icon","HomeFilled","ReadFilled","UserOutlined","CalendarFilled","GlobalOutlined","ShopFilled","TrophyFilled","QuestionCircleFilled","LayoutBase","children","useState","collapsed","setCollapsed","selected","setSelected","useHistory","location","useLocation","useEffect","pathname","className","collapsible","onCollapse","src","MainLogo","alt","theme","selectedKeys","mode","map","Item","key","onClick","push","onGoTo","LogoutOutlined","Cookies","remove","setTimeout","alert","style","textAlign","mark","role","aria-label","href","useLoading","loading","setLoading","url","process","fetchGraphql","headers","query","variables","getUrl","URL","searchParams","append","sha256","persistedConfig","method","normalConfig","body","JSON","stringify","Promise","resolve","reject","fetch","then","response","status","Error","json","catch","e","message","errors","length","err","onLogin","Email","Password","Title","layout","labelCol","span","tailLayout","wrapperCol","offset","Option","Select","AddNewAssignmentModal","isVisible","isEdit","addLoading","handleSubmit","handleCancel","formObject","title","visible","onOk","onCancel","okText","cancelText","confirmLoading","forceRender","form","initialValues","remember","marginBottom","label","rules","required","placeholder","width","value","TextArea","autoSize","minRows","maxRows","useModal","setStatus","getAssignmentList","Page","Limit","Authorization","getJSON","Token","OrderBy","OrderType","addAssignment","Description","Thumbnail","Url","UrlPassword","Category","Type","PublishStatus","Order","editAssignment","Id","switchPublish","deleteAssignment","Column","Table","confirm","Modal","UserModal","modalType","hasFeedback","dependencies","getFieldValue","validator","rule","getUserList","addUser","Name","hashedPass","IsActive","editUserProfile","switchIsActive","UpdateUserPassword","a","OldPassword","NewPassword","hashedOldPass","hashedNewPass","res","getTimeline","createTimeline","Date","IsPublish","editOrSwitchTimeline","AddNewTimelineModal","type","parseDate","date","parseInt","toISOString","split","formatDate","d","month","getMonth","day","getDate","year","getFullYear","hour","getHours","minute","getMinutes","join","mutationGraphql","config","getOrganizationContentList","addOrganizationContent","Subtitle","Article","UrlFile","LineUrl","TwitterUrl","YoutubeUrl","InstagramUrl","editOrganizationContent","deleteOrganizationContent","RichTextEditor","textValue","onTextChange","editorState","onEditorStateChange","wrapperClassName","editorClassName","wrapperStyle","minHeight","border","editorStyle","padding","borderRadius","height","toolbar","inline","inDropdown","list","link","emoji","OrganizationContentForm","setType","EditorState","createEmpty","editorValue","setEditorValue","editContent","setEditContent","submitLoading","showSubmitLoading","hideSubmitLoading","Form","useForm","validateFields","values","draftToHtml","convertToRaw","getCurrentContent","editExistingData","addNewData","resetFields","Message","success","sessionStorage","removeItem","error","substring","lastIndexOf","parse","getItem","setFieldsValue","blocksFromHTML","convertFromHTML","state","ContentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","display","marginRight","rows","orientation","justify","htmlType","Meta","Card","StoreCard","data","handleDelete","handleSwitch","handleEdit","ProductCode","Price","marginTop","cover","actions","EditOutlined","DeleteFilled","color","checked","onChange","description","plain","ProductFormModal","getStoreProducts","createNewProduct","updateProduct","deleteProduct","PRESENTED_IMAGE_SIMPLE","Empty","CreateLeaderboardFormModal","CreateUserFormModal","extractJSON","file","reader","FileReader","rABS","readAsBinaryString","readAsArrayBuffer","onload","bstr","target","result","wb","XLSX","read","bookVBA","wsname","SheetNames","ws","Sheets","utils","sheet_to_json","onerror","abort","getLeaderboards","RankSort","addLeaderboard","editLeaderboard","LeaderboardId","addLeaderboardUsers","Users","editLeaderboardUser","getLeaderboardUsers","deleteLeaderboardUser","LeaderboardUserId","LeaderboardUserUpload","addFile","uploadFile","uploadLoading","accept","showUploadList","beforeUpload","UploadOutlined","Input","CommentEditor","onSubmit","selectedId","Comment","Username","Question","Answer","createdAt","updatedAt","switchLoading","handleChangeStatus","handleReply","showRelpies","setShowReplies","showEditor","setShowEditor","setSelectedId","setTextValue","size","checkedChildren","CheckOutlined","unCheckedChildren","CloseOutlined","disabled","DeleteOutlined","author","avatar","content","datetime","getQNAList","editQNA","DeleteQNA","ROUTES","path","exact","component","userData","getFieldsValue","email","password","Login","set","get","bordered","onFinish","block","props","to","RenderRoutes","routes","showIcon","firstLoad","setFirstLoad","assignmentData","setAssignmentData","current","dataCount","pageProperty","setPageProperty","setIsEdit","selectedAssignment","setSelectedAssignment","isFormModalVisible","openFormModal","closeFormModal","fetchLoading","showFetchLoading","hideFetchLoading","showSwitchLoading","hideSwitchLoading","getAssignment","Contents","DataCount","Data","ExclamationCircleOutlined","okType","deleteExistingAssignment","align","dataSource","pagination","position","total","page","rowKey","dataIndex","render","text","record","EditFilled","assignment","danger","editExistingAssignment","addNewAssignment","setUserData","setModalType","selectedUser","setSelectedUser","setSwitchLoading","getUser","onLogout","UserAddOutlined","KeyOutlined","user","editExistingUser","updatePasswordUser","addNewUser","timelineList","setTimelineList","selectedTimeline","setSelectedTimeline","getTimelineList","ReminderDates","timeline","ReminderDate","temp","CreatedDate","LastUpdated","moment","formValue","format","onEditExistingTimeline","onAddNewTimeline","organizationData","setOrganizationData","getData","OrganizationContents","deleteExistingOrganizationContent","window","setItem","products","setProducts","selectedProduct","setSelectedProduct","getProducts","Products","product","deleteExistingProduct","paddingBottom","PlusCircleFilled","gutter","xs","sm","md","lg","tip","index","image","paddingTop","defaultPageSize","tempVal","editProduct","addNewProduct","leaderboards","setLeaderboards","selectedLeaderboard","setSelectedLeaderboard","usersFile","setUsersFile","users","setUsers","useRef","usersNotSufficient","setUsersNotSufficient","isLeaderboardFormModalVisible","showLeaderboardFormModal","hideLeaderboardFormModal","isLeaderboardUserFormModalVisible","showLeaderboardUserFormModal","hideLeaderboardUserFormModal","usersFetchLoading","showUsersFetchLoading","hideUsersFetchLoading","parseExcelLoading","showParseExcelLoading","hideParseExcelLoading","LeaderboardForm","LeaderboardUserForm","getLeaderboardsData","Leaderboards","editExistingLeaderboard","fetchLeaderboardUsers","LeaderboardUsers","newUsers","findIndex","item","splice","warn","handleDeleteUser","removeLeaderboardUser","rowSelection","selections","onSelect","leaderboard","handleSelectLeaderboard","locale","emptyText","checkStatus","event","stopPropagation","handleLeaderboardSwitch","handleEditLeaderboard","shape","level","createNewLeaderboard","Rank","Point","addNewLeaderboardUser","qnaData","setQnaData","getQNA","QNAs","deleteQNA","header","itemLayout","renderItem","ModifiedRoute","App","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.17b8f1f3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c66f91c8.svg\";","import { createBrowserHistory } from 'history';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport 'antd/dist/antd.css';\r\nimport { Layout, Menu, Typography } from 'antd';\r\n\r\nimport {\r\n\tHomeFilled,\r\n\tReadFilled,\r\n\tLogoutOutlined,\r\n\tUserOutlined,\r\n\tCalendarFilled,\r\n\tGlobalOutlined,\r\n\tShopFilled,\r\n\tTrophyFilled,\r\n\tQuestionCircleFilled,\r\n} from '@ant-design/icons';\r\n\r\nimport './LayoutBase.scss';\r\nimport MainLogo from 'Assets/logo.svg';\r\n\r\nconst { Content, Footer, Sider } = Layout;\r\nconst { Text, Link } = Typography;\r\n\r\nconst menuItems = [\r\n\t{\r\n\t\troute: '/admin',\r\n\t\tname: 'Dashboard',\r\n\t\ticon: <HomeFilled />,\r\n\t},\r\n\t{\r\n\t\troute: '/admin/penugasan',\r\n\t\tname: 'Penugasan',\r\n\t\ticon: <ReadFilled />,\r\n\t},\r\n\t{\r\n\t\troute: '/admin/pengguna',\r\n\t\tname: 'Pengguna',\r\n\t\ticon: <UserOutlined />,\r\n\t},\r\n\t{\r\n\t\troute: '/admin/timeline',\r\n\t\tname: 'Timeline',\r\n\t\ticon: <CalendarFilled />,\r\n\t},\r\n\t{\r\n\t\troute: '/admin/ukm-ormawa',\r\n\t\tname: 'UKM & Ormawa',\r\n\t\ticon: <GlobalOutlined />,\r\n\t},\r\n\t{\r\n\t\troute: '/admin/mpkmb-store',\r\n\t\tname: 'MPKMB Store',\r\n\t\ticon: <ShopFilled />,\r\n\t},\r\n\t{\r\n\t\troute: '/admin/leaderboard',\r\n\t\tname: 'Leaderboard',\r\n\t\ticon: <TrophyFilled />,\r\n  },\r\n  {\r\n    route: '/admin/qna',\r\n\t\tname: 'QNA',\r\n\t\ticon: <QuestionCircleFilled />,\r\n\t},\r\n];\r\n\r\nexport default function LayoutBase({ children }) {\r\n\tconst [collapsed, setCollapsed] = useState(false);\r\n\tconst [selected, setSelected] = useState('1');\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSelected(location.pathname);\r\n\t});\r\n\r\n\tfunction onCollapsed(collapsed) {\r\n\t\tsetCollapsed(collapsed);\r\n\t}\r\n\r\n\tfunction onGoTo(key, route) {\r\n\t\thistory.push(route);\r\n\t}\r\n\r\n\tfunction onLogout() {\r\n\t\tCookies.remove('MPKMB_ADMIN_TOKEN');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\talert('Anda telah keluar dari aplikasi ini.');\r\n\t\t\thistory.push('/');\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Layout className=\"layout-container\">\r\n\t\t\t<Sider collapsible collapsed={collapsed} onCollapse={onCollapsed}>\r\n\t\t\t\t<div className=\"layout-logo\">\r\n\t\t\t\t\t<img src={MainLogo} alt=\"Logo MPKMB 2020\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Menu theme=\"dark\" selectedKeys={[selected]} mode=\"inline\">\r\n\t\t\t\t\t{menuItems.map(({ icon, name, route }) => (\r\n\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\tkey={route}\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\tonClick={({ key }) => onGoTo(key, route)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<Menu.Item key=\"logout\" icon={<LogoutOutlined />} onClick={onLogout}>\r\n\t\t\t\t\t\tKeluar\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</Menu>\r\n\t\t\t</Sider>\r\n\t\t\t<Layout className=\"site-layout\">\r\n\t\t\t\t<Content className=\"layout-content-container\">{children}</Content>\r\n\t\t\t\t<Footer style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Text mark className=\"with-love-text\">\r\n\t\t\t\t\t\tCreated with{' '}\r\n\t\t\t\t\t\t<span role=\"img\" aria-label=\"love-emoji\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\tby <Link href=\"https://codepanda.id/\">Codepanda</Link>\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</Footer>\r\n\t\t\t</Layout>\r\n\t\t</Layout>\r\n\t);\r\n}\r\n\r\nLayoutBase.propTypes = {\r\n\tchildren: PropTypes.node.isRequired,\r\n};\r\n","import { useState } from 'react';\r\n\r\nexport default function useLoading() {\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tfunction showLoading() {\r\n\t\tsetLoading(true);\r\n\t}\r\n\r\n\tfunction hideLoading() {\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\treturn [loading, showLoading, hideLoading];\r\n}\r\n","import { sha256 } from 'js-sha256';\r\n\r\nconst url = process.env.REACT_APP_API_URL;\r\n\r\nexport function fetchGraphql({ headers, query, variables }) {\r\n\tconst getUrl = new URL(url);\r\n\tgetUrl.searchParams.append('hash', sha256(query));\r\n\t// getUrl.searchParams.append('variables', JSON.stringify(variables));\r\n\r\n\tconst persistedConfig = {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\t...headers,\r\n\t\t},\r\n\t};\r\n\r\n\tconst normalConfig = {\r\n\t\tmethod: 'POST',\r\n\t\theaders: persistedConfig.headers,\r\n\t\tbody: JSON.stringify({\r\n\t\t\tquery,\r\n\t\t\tvariables,\r\n\t\t}),\r\n\t};\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tfetch(getUrl, persistedConfig)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (response && (response.status === 400 || response.status === 405))\r\n\t\t\t\t\tthrow Error(response.status);\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresolve(response);\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (e.message === '400' || e.message === '405') {\r\n\t\t\t\t\tfetch(new URL(url), normalConfig)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tif (response.errors && response.errors.length > 0)\r\n\t\t\t\t\t\t\t\treturn reject(response.errors[0]);\r\n\t\t\t\t\t\t\tresolve(response);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t});\r\n}\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\n\r\nexport function onLogin({ Email, Password }) {\r\n\tconst res = fetchGraphql({\r\n\t\tquery: `\r\n      mutation(\r\n        $Email: String!,\r\n        $Password: String!\r\n      ) {\r\n        Login(\r\n          Email: $Email,\r\n          Password: $Password\r\n        ) {\r\n          Token\r\n        }\r\n      }\r\n    `,\r\n\t\tvariables: {\r\n\t\t\tEmail,\r\n\t\t\tPassword,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { sha256 } from 'js-sha256';\r\nimport Cookies from 'js-cookie';\r\n\r\nimport './Login.scss';\r\n\r\nimport useLoading from 'Hooks/useLoading';\r\nimport { onLogin } from 'Service/Login';\r\n\r\nimport {\r\n\tForm,\r\n\tInput,\r\n\tButton,\r\n\tTypography,\r\n\tCard,\r\n\tmessage as Message,\r\n} from 'antd';\r\n\r\nconst { Title, Text, Link } = Typography;\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 5 },\r\n};\r\n\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 5 },\r\n};\r\n\r\nexport default function Login() {\r\n\tconst [form] = Form.useForm();\r\n\tconst history = useHistory();\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (Cookies.get('MPKMB_ADMIN_TOKEN')) history.push('/admin');\r\n\t}, []);\r\n\r\n\tasync function handleLogin() {\r\n\t\tshowSubmitLoading();\r\n\r\n\t\tlet userData = {\r\n\t\t\t...form.getFieldsValue(),\r\n\t\t};\r\n\r\n\t\tconst { email, password } = userData;\r\n\r\n\t\tlet hashedPass = sha256(password);\r\n\r\n\t\ttry {\r\n\t\t\t// Destructure nested object\r\n\t\t\tconst {\r\n\t\t\t\tdata: { Login: Token },\r\n\t\t\t} = await onLogin({ Email: email, Password: hashedPass });\r\n\r\n\t\t\tawait Cookies.set('MPKMB_ADMIN_TOKEN', Token);\r\n\r\n\t\t\tMessage.success('Anda berhasil masuk');\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thistory.push('/admin');\r\n\t\t\t}, 1000);\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"container login-container\">\r\n\t\t\t<Title>MPKMB 2020</Title>\r\n\t\t\t<Card title=\"Login untuk Masuk\" bordered={false} className=\"login-card\">\r\n\t\t\t\t<Form\r\n\t\t\t\t\t{...layout}\r\n\t\t\t\t\tform={form}\r\n\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\tclassName=\"login-form\"\r\n\t\t\t\t\tonFinish={handleLogin}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Isi Email terlebih dahulu!' }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t{ required: true, message: 'Isi Password terlebih dahulu!' },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item {...tailLayout} className=\"login-button-submit\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t\tloading={submitLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Card>\r\n\t\t\t<Text mark className=\"with-love-text\">\r\n\t\t\t\tCreated with{' '}\r\n\t\t\t\t<span role=\"img\" aria-label=\"love-emoji\">\r\n\t\t\t\t\t\r\n\t\t\t\t</span>{' '}\r\n\t\t\t\tby <Link href=\"https://codepanda.id/\">Codepanda</Link>\r\n\t\t\t</Text>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Typography, PageHeader, Alert } from 'antd';\r\n\r\nimport './Dashboard.scss';\r\n\r\nconst { Title } = Typography;\r\n\r\nexport default function Dashboard() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Dashboard\" />\r\n\t\t\t<div className=\"dashboard-container\">\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Selamat datang di panel admin MPKMB 2020\"\r\n\t\t\t\t\tdescription=\"Saat ini panel admin MPKMB 2020 sedang dalam tahap pengembangan. Apabila pengguna menemukan kesalahan pada sistem, silahkan hubungi pengembang.\"\r\n\t\t\t\t\ttype=\"warning\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Form, Input, Select } from 'antd';\r\n\r\nconst layout = {\r\n\tlayout: 'vertical',\r\n};\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function AddNewAssignmentModal({\r\n\tisVisible,\r\n\tisEdit,\r\n\taddLoading,\r\n\thandleSubmit,\r\n\thandleCancel,\r\n\tformObject,\r\n}) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Tambah Tugas/Materi Baru\"\r\n\t\t\tvisible={isVisible}\r\n\t\t\tonOk={handleSubmit}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tokText={isEdit ? 'Simpan' : 'Buat Baru'}\r\n\t\t\tcancelText=\"Batal\"\r\n\t\t\tconfirmLoading={addLoading}\r\n\t\t\tforceRender\r\n\t\t>\r\n\t\t\t<Form\r\n\t\t\t\t{...layout}\r\n\t\t\t\tform={formObject}\r\n\t\t\t\tname=\"addNewAssignmentForm\"\r\n\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\tclassName=\"add-assignment\"\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Judul\"\r\n\t\t\t\t\tname=\"Title\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Isi Judul terlebih dahulu!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Judul tugas/materi\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Tipe\"\r\n\t\t\t\t\tname=\"Type\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Isi Tipe terlebih dahulu!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Select style={{ width: '100%' }}>\r\n\t\t\t\t\t\t<Option value=\"TUGAS\">Penugasan</Option>\r\n\t\t\t\t\t\t<Option value=\"MATERI\">Materi</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Deskripsi\"\r\n\t\t\t\t\tname=\"Description\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Isi Deskripsi terlebih dahulu!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.TextArea\r\n\t\t\t\t\t\tplaceholder=\"Deskripsi tugas/materi\"\r\n\t\t\t\t\t\tautoSize={{ minRows: 3, maxRows: 6 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Thumbnail Tugas/Materi\"\r\n\t\t\t\t\tname=\"Thumbnail\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Isi link gambar thumbnail terlebih dahulu!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Link untuk thumbnail\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Link Tugas/Materi\"\r\n\t\t\t\t\tname=\"Url\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Isi link untuk tugas/materi terlebih dahulu!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Link untuk tugas/materi\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\tname=\"UrlPassword\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Password untuk mengunci konten\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Kategori\"\r\n\t\t\t\t\tname=\"Category\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Isi kategori terlebih dahulu!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Ketegori untuk judul pada tab\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nAddNewAssignmentModal.propTypes = {\r\n\tisVisible: PropTypes.bool.isRequired,\r\n\tisEdit: PropTypes.bool.isRequired,\r\n\taddLoading: PropTypes.bool.isRequired,\r\n\thandleSubmit: PropTypes.func.isRequired,\r\n\thandleCancel: PropTypes.func.isRequired,\r\n\tformObject: PropTypes.object,\r\n};\r\n","import { useState } from 'react';\r\n\r\nexport default function useModal() {\r\n\tconst [status, setStatus] = useState(false);\r\n\r\n\tfunction openModal() {\r\n\t\tsetStatus(true);\r\n\t}\r\n\r\n\tfunction closeModal() {\r\n\t\tsetStatus(false);\r\n\t}\r\n\r\n\treturn [status, openModal, closeModal];\r\n}\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport function getAssignmentList({ Page, Limit = 10 }) {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!, \r\n      $OrderBy: ContentOrderBy, \r\n      $OrderType: OrderType, \r\n      $PublishStatus: Boolean, \r\n      $Title: String, \r\n      $Category: String, \r\n      $Type: String\r\n    ) {\r\n      Contents(\r\n        Limit: $Limit,\r\n        Page: $Page, \r\n        OrderBy: $OrderBy, \r\n        OrderType: $OrderType, \r\n        PublishStatus: $PublishStatus, \r\n        Title: $Title, \r\n        Category: $Category, \r\n        Type: $Type\r\n      ) {\r\n        Data {\r\n          Id\r\n          Title\r\n          Description\r\n          Thumbnail\r\n          Url\r\n          UrlPassword\r\n          PublishStatus\r\n          Category\r\n          Type\r\n          Order\r\n        }\r\n        DataCount\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit,\r\n\t\t\tPage,\r\n\t\t\tOrderBy: 'CreatedDate',\r\n\t\t\tOrderType: 'DESC',\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function addAssignment({\r\n\tTitle,\r\n\tDescription,\r\n\tThumbnail,\r\n\tUrl,\r\n\tUrlPassword,\r\n\tCategory,\r\n\tType,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $Title: String!, \r\n      $Description: String, \r\n      $Thumbnail: String, \r\n      $Url: String,\r\n      $PublishStatus: Boolean!, \r\n      $Category: String!,\r\n      $UrlPassword: String,\r\n      $Type: String!, \r\n      $Order: Int\r\n    ) {\r\n      CreateContent(\r\n        Title: $Title, \r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        Url: $Url,\r\n        PublishStatus: $PublishStatus, \r\n        Category: $Category,\r\n        UrlPassword: $UrlPassword,\r\n        Type: $Type,\r\n        Order: $Order\r\n      ) {\r\n        Id\r\n        Title\r\n        Description\r\n        Thumbnail\r\n        Url\r\n        UrlPassword\r\n        PublishStatus\r\n        Category\r\n        Type\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tTitle,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tUrl,\r\n\t\t\tUrlPassword,\r\n\t\t\tCategory,\r\n\t\t\tType,\r\n\t\t\tPublishStatus: true,\r\n\t\t\tOrder: null,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editAssignment({\r\n\tId,\r\n\tTitle,\r\n\tDescription,\r\n\tThumbnail,\r\n\tUrl,\r\n\tUrlPassword,\r\n\tCategory,\r\n\tType,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $Title: String, \r\n      $Description: String, \r\n      $Thumbnail: String, \r\n      $Url: String,\r\n      $PublishStatus: Boolean, \r\n      $Category: String,\r\n      $UrlPassword: String,\r\n      $Type: String, \r\n      $Order: Int\r\n    ) {\r\n      UpdateContent(\r\n        Id: $Id,\r\n        Title: $Title, \r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        Url: $Url,\r\n        PublishStatus: $PublishStatus, \r\n        Category: $Category,\r\n        UrlPassword: $UrlPassword, \r\n        Type: $Type,\r\n        Order: $Order\r\n      ) {\r\n        Id\r\n        Title\r\n        Description\r\n        Thumbnail\r\n        Url\r\n        UrlPassword\r\n        PublishStatus\r\n        Category\r\n        Type\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tTitle,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tUrl,\r\n\t\t\tUrlPassword,\r\n\t\t\tCategory,\r\n\t\t\tType,\r\n\t\t\tOrder: null,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function switchPublish({ Id, PublishStatus }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $PublishStatus: Boolean, \r\n    ) {\r\n      UpdateContent(\r\n        Id: $Id,\r\n        PublishStatus: $PublishStatus, \r\n      ) {\r\n        Id\r\n        PublishStatus\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tPublishStatus,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function deleteAssignment({ Id }) {\r\n\tconst query = `\r\n    mutation ($Id: String!) {\r\n      DeleteContent(Id: $Id) {\r\n        message\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","// Enum\r\n\r\nexport const PENUGASAN = 'TUGAS';\r\nexport const MATERI = 'MATERI';\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tPageHeader,\r\n\tTable,\r\n\tTag,\r\n\tSpace,\r\n\tButton,\r\n\tSwitch,\r\n\tRow,\r\n\tForm,\r\n\tmessage as Message,\r\n\tModal,\r\n} from 'antd';\r\nimport {\r\n\tEditFilled,\r\n\tDeleteFilled,\r\n\tReadFilled,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport AddNewAssignmentModal from 'Components/Modal/AddNewAssignmentModal';\r\n\r\nimport useModal from 'Hooks/useModal';\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\tgetAssignmentList,\r\n\taddAssignment,\r\n\tdeleteAssignment,\r\n\teditAssignment,\r\n\tswitchPublish,\r\n} from 'Service/Assignment';\r\nimport { PENUGASAN, MATERI } from 'Constants/assignmentConst';\r\n\r\nimport './Assignment.scss';\r\n\r\nconst { Column } = Table;\r\nconst { confirm } = Modal;\r\n\r\nexport default function Assignment() {\r\n\tconst [firstLoad, setFirstLoad] = useState(true);\r\n\tconst [assignmentData, setAssignmentData] = useState([]);\r\n\tconst [pageProperty, setPageProperty] = useState({\r\n\t\tcurrent: 1,\r\n\t\tdataCount: 1,\r\n\t});\r\n\tconst [isEdit, setIsEdit] = useState(false);\r\n\tconst [selectedAssignment, setSelectedAssignment] = useState(null);\r\n\r\n\tconst [isFormModalVisible, openFormModal, closeFormModal] = useModal();\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [switchLoading, showSwitchLoading, hideSwitchLoading] = useLoading();\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tasync function getAssignment() {\r\n\t\tshowFetchLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tContents: { DataCount, Data },\r\n\t\t\t\t},\r\n\t\t\t} = await getAssignmentList({ Page: pageProperty.current });\r\n\r\n\t\t\tif (firstLoad) setFirstLoad(false);\r\n\r\n\t\t\tsetAssignmentData([...Data]);\r\n\t\t\tsetPageProperty({\r\n\t\t\t\t...pageProperty,\r\n\t\t\t\tdataCount: DataCount,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAssignment();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad) return;\r\n\r\n\t\tgetAssignment();\r\n\t}, [pageProperty.current, setPageProperty]);\r\n\r\n\tfunction handleOpen() {\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleClose() {\r\n\t\tif (isEdit) setIsEdit(false);\r\n\r\n\t\tcloseFormModal();\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\tfunction handleChangePage(page) {\r\n\t\tsetPageProperty({\r\n\t\t\t...pageProperty,\r\n\t\t\tcurrent: page,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleEdit(assignment) {\r\n\t\tsetSelectedAssignment(assignment);\r\n\t\tsetIsEdit(true);\r\n\r\n\t\tform.setFieldsValue(assignment);\r\n\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleSubmit() {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tif (isEdit) {\r\n\t\t\t\tlet tempVal = {\r\n\t\t\t\t\t...selectedAssignment,\r\n\t\t\t\t\t...values,\r\n\t\t\t\t\tUrlPassword:\r\n\t\t\t\t\t\tvalues.UrlPassword.length === 0 ? null : values.UrlPassword,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn editExistingAssignment(tempVal);\r\n\t\t\t}\r\n\r\n\t\t\treturn addNewAssignment(values);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleDelete(Id) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Apakah Anda yakin?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Ya',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Batalkan',\r\n\t\t\tonOk() {\r\n\t\t\t\tdeleteExistingAssignment(Id);\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t}\r\n\r\n\tasync function handleChangeStatus(Id, PublishStatus) {\r\n\t\tshowSwitchLoading();\r\n\t\ttry {\r\n\t\t\tconst res = await switchPublish({ Id, PublishStatus: !PublishStatus });\r\n\r\n\t\t\tgetAssignment();\r\n\r\n\t\t\tMessage.success('Status Tugas/Materi berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSwitchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function addNewAssignment(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst { data } = await addAssignment({ ...values });\r\n\r\n\t\t\tgetAssignment();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Tugas/Materi berhasil ditambahkan');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function editExistingAssignment(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst { data } = await editAssignment({ ...values });\r\n\r\n\t\t\tgetAssignment();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Tugas/Materi berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function deleteExistingAssignment(Id) {\r\n\t\ttry {\r\n\t\t\tconst res = await deleteAssignment({ Id });\r\n\t\t\tgetAssignment();\r\n\r\n\t\t\tMessage.success('Tugas/Materi berhasil dihapus');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Penugasan\" />\r\n\t\t\t<div className=\"assignment-table-container\">\r\n\t\t\t\t<Row className=\"assignment-add-container\" align=\"middle\" justify=\"end\">\r\n\t\t\t\t\t<Button type=\"primary\" icon={<ReadFilled />} onClick={handleOpen}>\r\n\t\t\t\t\t\tTambah Tugas/Materi Baru\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tdataSource={assignmentData}\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tposition: ['bottomCenter'],\r\n\t\t\t\t\t\tcurrent: pageProperty.current,\r\n\t\t\t\t\t\ttotal: pageProperty.dataCount,\r\n\t\t\t\t\t\tonChange: handleChangePage,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trowKey=\"Id\"\r\n\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Column title=\"Judul Tugas\" dataIndex=\"Title\" key=\"Title\" />\r\n\t\t\t\t\t<Column title=\"Kategori\" dataIndex=\"Category\" key=\"Category\" />\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Tipe\"\r\n\t\t\t\t\t\tdataIndex=\"Type\"\r\n\t\t\t\t\t\tkey=\"Type\"\r\n\t\t\t\t\t\trender={(type) => {\r\n\t\t\t\t\t\t\tif (type === PENUGASAN) return <Tag color=\"blue\">Penugasan</Tag>;\r\n\t\t\t\t\t\t\tif (type === MATERI) return <Tag color=\"red\">Materi</Tag>;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Tampilkan\"\r\n\t\t\t\t\t\tdataIndex=\"PublishStatus\"\r\n\t\t\t\t\t\tkey=\"PublishStatus\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tloading={switchLoading}\r\n\t\t\t\t\t\t\t\tchecked={record.PublishStatus}\r\n\t\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\t\thandleChangeStatus(record.Id, record.PublishStatus)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Aksi\"\r\n\t\t\t\t\t\tkey=\"action\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<EditFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleEdit(record)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSunting\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<DeleteFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(record.Id)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tHapus\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t\t<AddNewAssignmentModal\r\n\t\t\t\tisVisible={isFormModalVisible}\r\n\t\t\t\tisEdit={isEdit}\r\n\t\t\t\taddLoading={submitLoading}\r\n\t\t\t\thandleCancel={handleClose}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tformObject={form}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Form, Input } from 'antd';\r\n\r\nconst layout = {\r\n\tlayout: 'vertical',\r\n};\r\n\r\nexport default function UserModal({\r\n\tisVisible,\r\n\tmodalType,\r\n\taddLoading,\r\n\thandleSubmit,\r\n\thandleCancel,\r\n\tformObject,\r\n}) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={modalType === 'new' ? 'Tambahkan Pengguna' : 'Sunting Pengguna'}\r\n\t\t\tvisible={isVisible}\r\n\t\t\tonOk={handleSubmit}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tokText={modalType !== 'new' ? 'Simpan' : 'Buat Baru'}\r\n\t\t\tcancelText=\"Batal\"\r\n\t\t\tconfirmLoading={addLoading}\r\n\t\t\tforceRender\r\n\t\t>\r\n\t\t\t<Form\r\n\t\t\t\t{...layout}\r\n\t\t\t\tform={formObject}\r\n\t\t\t\tname=\"addNewAssignmentForm\"\r\n\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\tclassName=\"add-assignment\"\r\n\t\t\t>\r\n\t\t\t\t{(modalType === 'new' || modalType === 'edit') && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tlabel=\"Nama\"\r\n\t\t\t\t\t\t\tname=\"Name\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Isi nama terlebih dahulu !' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input placeholder=\"Nama pengguna\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\tname=\"Email\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Isi Email terlebih dahulu!' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input placeholder=\"Email pengguna\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{modalType === 'setPassword' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"OldPassword\"\r\n\t\t\t\t\t\t\tlabel=\"Password Lama\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Please input your old password!' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"NewPassword\"\r\n\t\t\t\t\t\t\tlabel=\"Password Baru\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Please input your new password!' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"confirm\"\r\n\t\t\t\t\t\t\tlabel=\"Konfirmasi Password Baru\"\r\n\t\t\t\t\t\t\tdependencies={['NewPassword']}\r\n\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: 'Please confirm your new password!',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t({ getFieldValue }) => ({\r\n\t\t\t\t\t\t\t\t\tvalidator(rule, value) {\r\n\t\t\t\t\t\t\t\t\t\tif (!value || getFieldValue('NewPassword') === value) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn Promise.reject(\r\n\t\t\t\t\t\t\t\t\t\t\t'The two passwords that you entered do not match!'\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{modalType === 'new' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"Password\"\r\n\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Please input your password!' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"confirm\"\r\n\t\t\t\t\t\t\tlabel=\"Konfirmasi Password\"\r\n\t\t\t\t\t\t\tdependencies={['Password']}\r\n\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: 'Please confirm your password!',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t({ getFieldValue }) => ({\r\n\t\t\t\t\t\t\t\t\tvalidator(rule, value) {\r\n\t\t\t\t\t\t\t\t\t\tif (!value || getFieldValue('Password') === value) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn Promise.reject(\r\n\t\t\t\t\t\t\t\t\t\t\t'The two passwords that you entered do not match!'\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\nUserModal.propTypes = {\r\n\tisVisible: PropTypes.bool.isRequired,\r\n\tmodalType: PropTypes.string.isRequired,\r\n\taddLoading: PropTypes.bool.isRequired,\r\n\thandleSubmit: PropTypes.func.isRequired,\r\n\thandleCancel: PropTypes.func.isRequired,\r\n\tformObject: PropTypes.object,\r\n};\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport { sha256 } from 'js-sha256';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport function getUserList({ Page, Limit = 10 }) {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!, \r\n    ) {\r\n      Users(\r\n        Limit: $Limit,\r\n        Page: $Page, \r\n      ) {\r\n        Data {\r\n          Id\r\n          Name\r\n          Email\r\n          IsActive\r\n        }\r\n        DataCount\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit,\r\n\t\t\tPage,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function addUser({ Name, Email, Password }) {\r\n\tconst hashedPass = sha256(Password);\r\n\tconst query = `\r\n    mutation (\r\n      $Name: String!, \r\n      $Email: String!, \r\n      $Password: String!,\r\n      $IsActive: Boolean, \r\n    ) {\r\n      Register (\r\n        Name: $Name, \r\n        Email: $Email,\r\n        Password: $Password,\r\n        IsActive: $IsActive,\r\n      ) {\r\n        Id\r\n        Name\r\n        Email\r\n        IsActive\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tName,\r\n\t\t\tEmail,\r\n\t\t\tPassword: hashedPass,\r\n\t\t\tIsActive: false,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editUserProfile({ Id, Name, Email }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $Name: String, \r\n      $Email: String,\r\n    ) {\r\n      UpdateUserProfile(\r\n        Id: $Id,\r\n        Name: $Name, \r\n        Email: $Email,\r\n      ) {\r\n        Id\r\n        Name\r\n        Email\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tName,\r\n\t\t\tEmail,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function switchIsActive({ Id, IsActive }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $IsActive: Boolean, \r\n    ) {\r\n      UpdateUserProfile(\r\n        Id: $Id,\r\n        IsActive: $IsActive, \r\n      ) {\r\n        Id\r\n        IsActive\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tIsActive,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport async function UpdateUserPassword({ OldPassword, NewPassword }) {\r\n  const hashedOldPass = await sha256(OldPassword);\r\n  const hashedNewPass = await sha256(NewPassword);\r\n\r\n\tconst query = `\r\n    mutation (\r\n      $OldPassword: String!,\r\n      $NewPassword: String!, \r\n    ) {\r\n        UpdateUserPassword(\r\n          OldPassword: $OldPassword,\r\n          NewPassword: $NewPassword, \r\n      ) {\r\n        Id\r\n        Name\r\n        Email\r\n        IsActive\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tOldPassword: hashedOldPass,\r\n\t\t\tNewPassword: hashedNewPass,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport {\r\n\tPageHeader,\r\n\tTable,\r\n\tSpace,\r\n\tButton,\r\n\tSwitch,\r\n\tRow,\r\n\tForm,\r\n\tmessage as Message,\r\n\t// Modal,\r\n} from 'antd';\r\nimport {\r\n\tEditFilled,\r\n\t// DeleteFilled,\r\n\tUserAddOutlined,\r\n\tKeyOutlined,\r\n\t// ExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport UserModal from 'Components/Modal/UserModal';\r\nimport './User.scss';\r\n\r\nimport useModal from 'Hooks/useModal';\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\taddUser,\r\n\tgetUserList,\r\n\teditUserProfile,\r\n\tswitchIsActive,\r\n\tUpdateUserPassword,\r\n} from 'Service/User';\r\n\r\nconst { Column } = Table;\r\n// const { confirm } = Modal;\r\n\r\nexport default function User() {\r\n\tconst history = useHistory();\r\n\tconst [firstLoad, setFirstLoad] = useState(true);\r\n\tconst [userData, setUserData] = useState([]);\r\n\tconst [pageProperty, setPageProperty] = useState({\r\n\t\tcurrent: 1,\r\n\t\tdataCount: 1,\r\n\t});\r\n\tconst [modalType, setModalType] = useState('');\r\n\tconst [selectedUser, setSelectedUser] = useState(null);\r\n\r\n\tconst [isFormModalVisible, openFormModal, closeFormModal] = useModal();\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [switchLoading, setSwitchLoading] = useState('');\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tasync function getUser() {\r\n\t\tshowFetchLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tUsers: { DataCount, Data },\r\n\t\t\t\t},\r\n\t\t\t} = await getUserList({ Page: pageProperty.current });\r\n\r\n\t\t\tif (firstLoad) setFirstLoad(false);\r\n\r\n\t\t\tsetUserData([...Data]);\r\n\t\t\tsetPageProperty({\r\n\t\t\t\t...pageProperty,\r\n\t\t\t\tdataCount: DataCount,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetUser();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad) return;\r\n\r\n\t\tgetUser();\r\n\t}, [pageProperty.current, setPageProperty]);\r\n\r\n\tfunction handleOpen() {\r\n\t\topenFormModal();\r\n\t\tsetModalType('new');\r\n\t}\r\n\r\n\tfunction handleChangePage(page) {\r\n\t\tsetPageProperty({\r\n\t\t\t...pageProperty,\r\n\t\t\tcurrent: page,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleClose() {\r\n\t\tif (modalType !== '') setModalType('');\r\n\r\n\t\tcloseFormModal();\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\tfunction handleEdit(user) {\r\n\t\tsetSelectedUser(user);\r\n\t\tsetModalType('edit');\r\n\r\n\t\tform.setFieldsValue(user);\r\n\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleSetPassword() {\r\n\t\tsetModalType('setPassword');\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleSubmit() {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tif (modalType === 'edit') {\r\n\t\t\t\tlet tempVal = {\r\n\t\t\t\t\t...selectedUser,\r\n\t\t\t\t\t...values,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn editExistingUser(tempVal);\r\n\t\t\t}\r\n\r\n\t\t\tif (modalType === 'setPassword') {\r\n\t\t\t\tlet tempVal = {\r\n\t\t\t\t\t...values,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn updatePasswordUser(tempVal);\r\n\t\t\t}\r\n\r\n\t\t\treturn addNewUser(values);\r\n\t\t});\r\n\t}\r\n\r\n\t// function handleDelete(Id) {\r\n\t// \tconfirm({\r\n\t// \t\ttitle: 'Apakah Anda yakin?',\r\n\t// \t\ticon: <ExclamationCircleOutlined />,\r\n\t// \t\tokText: 'Ya',\r\n\t// \t\tokType: 'danger',\r\n\t// \t\tcancelText: 'Batalkan',\r\n\t// \t\tonOk() {\r\n\t// \t\t\tdeleteExistingAssignment(Id);\r\n\t// \t\t},\r\n\t// \t\tonCancel() {},\r\n\t// \t});\r\n\t// }\r\n\r\n\tasync function handleChangeStatus(Id, IsActive) {\r\n\t\tsetSwitchLoading(Id);\r\n\t\ttry {\r\n\t\t\tawait switchIsActive({ Id, IsActive: !IsActive });\r\n\t\t\tgetUser();\r\n\r\n\t\t\tMessage.success('Pengguna berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\tsetSwitchLoading('');\r\n\t\t}\r\n\t}\r\n\r\n\tasync function addNewUser(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait addUser({ ...values });\r\n\r\n\t\t\tgetUser();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Pengguna berhasil ditambahkan');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function editExistingUser(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait editUserProfile({ ...values });\r\n\r\n\t\t\tgetUser();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Pengguna berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function updatePasswordUser(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait UpdateUserPassword({ ...values });\r\n\r\n\t\t\tgetUser();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Password anda berhasil diubah');\r\n\t\t\tonLogout();\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\t// async function deleteExistingAssignment(Id) {\r\n\t// \ttry {\r\n\t// \t\tconst res = await deleteAssignment({ Id });\r\n\t// \t\tgetAssignment();\r\n\r\n\t// \t\tMessage.success('Tugas/Materi berhasil dihapus');\r\n\t// \t} catch (e) {\r\n\t// \t\tconst { message } = e;\r\n\t// \t\tMessage.error(message);\r\n\t// \t}\r\n\t// }\r\n\r\n\tfunction onLogout() {\r\n\t\tCookies.remove('MPKMB_ADMIN_TOKEN');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\talert('Anda telah mengganti password silahkan login ulang');\r\n\t\t\thistory.push('/');\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Menejemen Pengguna\" />\r\n\t\t\t<div className=\"assignment-table-container\">\r\n\t\t\t\t<Row className=\"assignment-add-container\" align=\"middle\" justify=\"end\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mr-5\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={<UserAddOutlined />}\r\n\t\t\t\t\t\tonClick={handleOpen}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTambah Pengguna\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={<KeyOutlined />}\r\n\t\t\t\t\t\tonClick={() => handleSetPassword()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tGanti Password Anda\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tdataSource={userData}\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tposition: ['bottomCenter'],\r\n\t\t\t\t\t\tcurrent: pageProperty.current,\r\n\t\t\t\t\t\ttotal: pageProperty.dataCount,\r\n\t\t\t\t\t\tonChange: handleChangePage,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trowKey=\"Id\"\r\n\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Column title=\"Nama Pengguna\" dataIndex=\"Name\" key=\"Name\" />\r\n\t\t\t\t\t<Column title=\"Email Pengguna\" dataIndex=\"Email\" key=\"Email\" />\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Aktivasi\"\r\n\t\t\t\t\t\tdataIndex=\"IsActive\"\r\n\t\t\t\t\t\tkey=\"IsActive\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tloading={switchLoading === record.Id}\r\n\t\t\t\t\t\t\t\tchecked={record.IsActive}\r\n\t\t\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\t\t\thandleChangeStatus(record.Id, record.IsActive);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Aksi\"\r\n\t\t\t\t\t\tkey=\"action\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<EditFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleEdit(record)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSunting\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t\t<UserModal\r\n\t\t\t\tisVisible={isFormModalVisible}\r\n\t\t\t\tmodalType={modalType}\r\n\t\t\t\taddLoading={submitLoading}\r\n\t\t\t\thandleCancel={handleClose}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tformObject={form}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport function getTimeline({ Page, Limit = 10 }) {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!, \r\n      $Published: Boolean, \r\n      $DateSort: String\r\n    ) {\r\n      ReminderDates(\r\n        Limit: $Limit, \r\n        Page: $Page, \r\n        Published: $Published, \r\n        DateSort: $DateSort\r\n      ) {\r\n        Data {\r\n          Id\r\n          Title\r\n          Description\r\n          Date\r\n          IsPublish\r\n          CreatedDate\r\n          LastUpdated\r\n        }\r\n        DataCount\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit,\r\n\t\t\tPage,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function createTimeline({ Title, Description, Date, IsPublish = true }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String, \r\n      $Title: String!, \r\n      $Description: String!, \r\n      $Date: String!,\r\n      $IsPublish: Boolean!\r\n    ) {\r\n      CreateOrUpdateRemiderDate(\r\n        Id: $Id, \r\n        Title: $Title, \r\n        Description: $Description, \r\n        Date: $Date,\r\n        IsPublish: $IsPublish\r\n      ) {\r\n        Id\r\n        Title\r\n        Description\r\n        Date\r\n        IsPublish\r\n        CreatedDate\r\n        LastUpdated\r\n      }\r\n    } \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tTitle,\r\n\t\t\tDescription,\r\n\t\t\tDate,\r\n\t\t\tIsPublish,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editOrSwitchTimeline({\r\n\tId,\r\n\tTitle,\r\n\tDescription,\r\n\tDate,\r\n\tIsPublish,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String, \r\n      $Title: String!, \r\n      $Description: String!, \r\n      $Date: String!,\r\n      $IsPublish: Boolean!\r\n    ) {\r\n      CreateOrUpdateRemiderDate(\r\n        Id: $Id, \r\n        Title: $Title, \r\n        Description: $Description, \r\n        Date: $Date,\r\n        IsPublish: $IsPublish\r\n      ) {\r\n        Id\r\n        Title\r\n        Description\r\n        Date\r\n        IsPublish\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tTitle,\r\n\t\t\tDescription,\r\n\t\t\tDate,\r\n\t\t\tIsPublish,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Form, Input, DatePicker } from 'antd';\r\n\r\nconst layout = {\r\n\tlayout: 'vertical',\r\n};\r\n\r\nexport default function AddNewTimelineModal({\r\n\tisVisible,\r\n\tisEdit,\r\n\taddLoading,\r\n\thandleSubmit,\r\n\thandleCancel,\r\n\tformObject,\r\n}) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Tambah Timeline Baru\"\r\n\t\t\tvisible={isVisible}\r\n\t\t\tonOk={handleSubmit}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tokText={isEdit ? 'Simpan' : 'Buat Baru'}\r\n\t\t\tcancelText=\"Batal\"\r\n\t\t\tconfirmLoading={addLoading}\r\n\t\t\tforceRender\r\n\t\t>\r\n\t\t\t<Form\r\n\t\t\t\t{...layout}\r\n\t\t\t\tform={formObject}\r\n\t\t\t\tname=\"addNewTimelineModal\"\r\n\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\tclassName=\"add-new-timeline\"\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Judul\"\r\n\t\t\t\t\tname=\"Title\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Isi Judul terlebih dahulu!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Judul tugas/materi\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Deskripsi\"\r\n\t\t\t\t\tname=\"Description\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Isi Deskripsi terlebih dahulu!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.TextArea\r\n\t\t\t\t\t\tplaceholder=\"Deskripsi tugas/materi\"\r\n\t\t\t\t\t\tautoSize={{ minRows: 3, maxRows: 6 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Tanggal Penting\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tname=\"Date\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Isi tanggal penting terlebih dahulu!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DatePicker />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nAddNewTimelineModal.propTypes = {\r\n\tisVisible: PropTypes.bool.isRequired,\r\n\tisEdit: PropTypes.bool.isRequired,\r\n\taddLoading: PropTypes.bool.isRequired,\r\n\thandleSubmit: PropTypes.func.isRequired,\r\n\thandleCancel: PropTypes.func.isRequired,\r\n\tformObject: PropTypes.object,\r\n};\r\n","export function parseDate(date) {\r\n\tlet parsedDate = new Date(parseInt(date)).toISOString().split('T')[0];\r\n\treturn parsedDate;\r\n}\r\n\r\nexport function formatDate(date) {\r\n\tvar d = new Date(date),\r\n\t\tmonth = '' + (d.getMonth() + 1),\r\n\t\tday = '' + d.getDate(),\r\n\t\tyear = d.getFullYear(),\r\n\t\thour = '' + d.getHours(),\r\n\t\tminute = '' + d.getMinutes();\r\n\r\n\tif (month.length < 2) month = '0' + month;\r\n\tif (day.length < 2) day = '0' + day;\r\n\tif (hour.length < 2) hour = '0' + hour;\r\n\tif (minute.length < 2) minute = '0' + minute;\r\n\r\n\treturn [[day, month, year].join('-'), [hour, minute].join(':')].join(' ');\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport './Timeline.scss';\r\n\r\nimport {\r\n\tPageHeader,\r\n\tTable,\r\n\tButton,\r\n\tSwitch,\r\n\tRow,\r\n\tForm,\r\n\tTypography,\r\n\tmessage as Message,\r\n} from 'antd';\r\nimport { CalendarFilled, EditFilled } from '@ant-design/icons';\r\n\r\nimport {\r\n\tgetTimeline,\r\n\tcreateTimeline,\r\n\teditOrSwitchTimeline,\r\n} from 'Service/Timeline';\r\n\r\nimport AddNewTimelineModal from 'Components/Modal/AddNewTimelineModal';\r\nimport { parseDate } from 'Utils/date';\r\n\r\nimport useModal from 'Hooks/useModal';\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nconst { Column } = Table;\r\nconst { Text } = Typography;\r\n\r\nexport default function Timeline() {\r\n\tconst [firstLoad, setFirstLoad] = useState(true);\r\n\tconst [timelineList, setTimelineList] = useState([]);\r\n\tconst [pageProperty, setPageProperty] = useState({\r\n\t\tcurrent: 1,\r\n\t\tdataCount: 1,\r\n\t});\r\n\tconst [isEdit, setIsEdit] = useState(false);\r\n\tconst [selectedTimeline, setSelectedTimeline] = useState(null);\r\n\r\n\tconst [isFormModalVisible, openFormModal, closeFormModal] = useModal();\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [switchLoading, showSwitchLoading, hideSwitchLoading] = useLoading();\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tasync function getTimelineList() {\r\n\t\tshowFetchLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tReminderDates: { DataCount, Data },\r\n\t\t\t\t},\r\n\t\t\t} = await getTimeline({ Page: pageProperty.current });\r\n\r\n\t\t\tif (firstLoad) setFirstLoad(false);\r\n\r\n\t\t\tsetTimelineList([...Data]);\r\n\t\t\tsetPageProperty({\r\n\t\t\t\t...pageProperty,\r\n\t\t\t\tdataCount: DataCount,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetTimelineList();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad) return;\r\n\r\n\t\tgetTimelineList();\r\n\t}, [pageProperty.current, setPageProperty]);\r\n\r\n\tfunction handleClose() {\r\n\t\tif (isEdit) setIsEdit(false);\r\n\r\n\t\tcloseFormModal();\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\tfunction handleOpen() {\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleChangePage(page) {\r\n\t\tsetPageProperty({\r\n\t\t\t...pageProperty,\r\n\t\t\tcurrent: page,\r\n\t\t});\r\n\t}\r\n\r\n\tasync function handleChangeStatus(timeline) {\r\n\t\tshowSwitchLoading();\r\n\r\n\t\tconst { IsPublish, Date: ReminderDate } = timeline;\r\n\r\n\t\ttry {\r\n\t\t\tlet temp = {\r\n\t\t\t\t...timeline,\r\n\t\t\t\tIsPublish: !IsPublish,\r\n\t\t\t\tDate: parseDate(ReminderDate),\r\n\t\t\t};\r\n\r\n\t\t\tdelete temp.CreatedDate;\r\n\t\t\tdelete temp.LastUpdated;\r\n\r\n\t\t\tconst res = await editOrSwitchTimeline(temp);\r\n\r\n\t\t\tgetTimelineList();\r\n\r\n\t\t\tMessage.success('Status Tanggal Pengingat berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSwitchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleEdit(timeline) {\r\n\t\tlet selectedTimeline = {\r\n\t\t\t...timeline,\r\n\t\t\tDate: moment(parseDate(timeline.Date)),\r\n\t\t};\r\n\r\n\t\tsetSelectedTimeline(selectedTimeline);\r\n\t\tsetIsEdit(true);\r\n\r\n\t\tform.setFieldsValue(selectedTimeline);\r\n\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleSubmit() {\r\n\t\tform.validateFields().then((formValue) => {\r\n\t\t\tlet { Date } = formValue;\r\n\r\n\t\t\tlet values = {\r\n\t\t\t\t...formValue,\r\n\t\t\t\tDate: Date.format('YYYY-MM-DD'),\r\n\t\t\t};\r\n\r\n\t\t\tif (isEdit) {\r\n\t\t\t\tlet tempVal = {\r\n\t\t\t\t\t...selectedTimeline,\r\n\t\t\t\t\t...values,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn onEditExistingTimeline(tempVal);\r\n\t\t\t}\r\n\r\n\t\t\treturn onAddNewTimeline(values);\r\n\t\t});\r\n\t}\r\n\r\n\tasync function onEditExistingTimeline(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst res = await editOrSwitchTimeline({ ...values });\r\n\r\n\t\t\tgetTimelineList();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\r\n\t\t\tMessage.success('Tanggal Pengingat berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function onAddNewTimeline(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst res = await createTimeline({ ...values });\r\n\r\n\t\t\tgetTimelineList();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\r\n\t\t\tMessage.success('Tanggal Pengingat berhasil ditambahkan');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Timeline\" />\r\n\t\t\t<div className=\"timeline-table-container\">\r\n\t\t\t\t<Row className=\"timeline-add-container\" align=\"middle\" justify=\"end\">\r\n\t\t\t\t\t<Button type=\"primary\" icon={<CalendarFilled />} onClick={handleOpen}>\r\n\t\t\t\t\t\tTambah Tanggal Pengingat\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Table\r\n\t\t\t\t\trowKey=\"Id\"\r\n\t\t\t\t\tdataSource={timelineList}\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tposition: ['bottomCenter'],\r\n\t\t\t\t\t\tcurrent: pageProperty.current,\r\n\t\t\t\t\t\ttotal: pageProperty.dataCount,\r\n\t\t\t\t\t\tonChange: handleChangePage,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Column title=\"Judul\" dataIndex=\"Title\" key=\"Title\" />\r\n\t\t\t\t\t<Column title=\"Deskripsi\" dataIndex=\"Description\" key=\"Description\" />\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Tanggal\"\r\n\t\t\t\t\t\tdataIndex=\"Date\"\r\n\t\t\t\t\t\tkey=\"Date\"\r\n\t\t\t\t\t\trender={(text, record) => <Text>{parseDate(record.Date)}</Text>}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Tampilkan\"\r\n\t\t\t\t\t\tdataIndex=\"IsPublish\"\r\n\t\t\t\t\t\tkey=\"IsPublish\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tloading={switchLoading}\r\n\t\t\t\t\t\t\t\tchecked={record.IsPublish}\r\n\t\t\t\t\t\t\t\tonChange={() => handleChangeStatus(record)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Aksi\"\r\n\t\t\t\t\t\tkey=\"action\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\ticon={<EditFilled />}\r\n\t\t\t\t\t\t\t\tonClick={() => handleEdit(record)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSunting\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t\t<AddNewTimelineModal\r\n\t\t\t\tisVisible={isFormModalVisible}\r\n\t\t\t\tisEdit={isEdit}\r\n\t\t\t\taddLoading={submitLoading}\r\n\t\t\t\thandleCancel={handleClose}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tformObject={form}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","// dipake buat rich text\r\n\r\nimport { sha256 } from 'js-sha256';\r\nconst url = process.env.REACT_APP_API_URL;\r\n\r\nexport function mutationGraphql({ headers, query, variables }) {\r\n\tconst getUrl = new URL(url);\r\n\tgetUrl.searchParams.append('hash', sha256(query));\r\n\r\n\tconst config = {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\t...headers,\r\n\t\t},\r\n\t\tbody: JSON.stringify({\r\n\t\t\tquery,\r\n\t\t\tvariables,\r\n\t\t}),\r\n\t};\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tfetch(new URL(url), config)\r\n\t\t\t.then((response) => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (response.errors && response.errors.length > 0)\r\n\t\t\t\t\treturn reject(response.errors[0]);\r\n\t\t\t\tresolve(response);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\treject(err);\r\n\t\t\t});\r\n\t});\r\n}\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport { mutationGraphql } from 'Utils/mutationGraphql';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport function getOrganizationContentList({ Page, Limit = 10 }) {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!, \r\n      $OrderBy: OrganizationContentOrderBy, \r\n      $OrderType: OrderType, \r\n      $PublishStatus: Boolean, \r\n      $Title: String, \r\n      $Category: String,\r\n    ) {\r\n\tOrganizationContents(\r\n        Limit: $Limit,\r\n        Page: $Page, \r\n        OrderBy: $OrderBy, \r\n        OrderType: $OrderType, \r\n        PublishStatus: $PublishStatus, \r\n        Title: $Title, \r\n        Category: $Category,\r\n      ) {\r\n        Data {\r\n          Id\r\n          Title\r\n          Subtitle\r\n          Description\r\n          Thumbnail\r\n          Article\r\n          Url\r\n          UrlFile\r\n          LineUrl\r\n          TwitterUrl\r\n          YoutubeUrl\r\n          InstagramUrl\r\n          Email\r\n          Category\r\n          PublishStatus\r\n          Order\r\n        }\r\n        DataCount\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit,\r\n\t\t\tPage,\r\n\t\t\tOrderBy: 'CreatedDate',\r\n\t\t\tOrderType: 'DESC',\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function addOrganizationContent({\r\n\tTitle,\r\n\tSubtitle,\r\n\tDescription,\r\n\tThumbnail,\r\n\tArticle,\r\n\tUrl,\r\n\tUrlFile,\r\n\tLineUrl,\r\n\tTwitterUrl,\r\n\tYoutubeUrl,\r\n\tInstagramUrl,\r\n\tEmail,\r\n\tCategory,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n        $Title: String!,\r\n        $Subtitle: String,\r\n        $Description: String,\r\n        $Thumbnail: String,\r\n        $Article: String,\r\n        $Url: String,\r\n        $UrlFile: String,\r\n        $LineUrl: String,\r\n        $TwitterUrl: String,\r\n        $YoutubeUrl: String,\r\n        $InstagramUrl: String,\r\n        $Email: String,\r\n        $Category: String!,\r\n        $PublishStatus: Boolean,\r\n        $Order: Int,\r\n    ) {\r\n\tCreateOrganizationContent (\r\n        Title: $Title,\r\n        Subtitle: $Subtitle,\r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        Article: $Article,\r\n        Url: $Url,\r\n        UrlFile: $UrlFile,\r\n        LineUrl: $LineUrl,\r\n        TwitterUrl: $TwitterUrl,\r\n        YoutubeUrl: $YoutubeUrl,\r\n        InstagramUrl: $InstagramUrl,\r\n        Email: $Email,\r\n        Category: $Category,\r\n        PublishStatus: $PublishStatus,\r\n        Order: $Order,\r\n      ) {\r\n        Id\r\n        Title\r\n        Subtitle\r\n        Description\r\n        Thumbnail\r\n        Article\r\n        Url\r\n        UrlFile\r\n        LineUrl\r\n        TwitterUrl\r\n        YoutubeUrl\r\n        InstagramUrl\r\n        Email\r\n        Category\r\n        PublishStatus\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = mutationGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tTitle,\r\n\t\t\tSubtitle,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tArticle,\r\n\t\t\tUrl,\r\n\t\t\tUrlFile,\r\n\t\t\tLineUrl,\r\n\t\t\tTwitterUrl,\r\n\t\t\tYoutubeUrl,\r\n\t\t\tInstagramUrl,\r\n\t\t\tEmail,\r\n\t\t\tCategory,\r\n\t\t\tPublishStatus: false,\r\n\t\t\tOrder: null,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editOrganizationContent({\r\n\tId,\r\n\tTitle,\r\n\tSubtitle,\r\n\tDescription,\r\n\tThumbnail,\r\n\tArticle,\r\n\tUrl,\r\n\tUrlFile,\r\n\tLineUrl,\r\n\tTwitterUrl,\r\n\tYoutubeUrl,\r\n\tInstagramUrl,\r\n\tEmail,\r\n\tCategory,\r\n\tPublishStatus,\r\n\tOrder,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $Title: String,\r\n      $Subtitle: String,\r\n      $Description: String,\r\n      $Thumbnail: String,\r\n      $Article: String,\r\n      $Url: String,\r\n      $UrlFile: String,\r\n      $LineUrl: String,\r\n      $TwitterUrl: String,\r\n      $YoutubeUrl: String,\r\n      $InstagramUrl: String,\r\n      $Email: String,\r\n      $Category: String,\r\n      $PublishStatus: Boolean,\r\n      $Order: Int,\r\n    ) {\r\n\tUpdateOrganizationContent (\r\n        Id: $Id,\r\n        Title: $Title,\r\n        Subtitle: $Subtitle,\r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        Article: $Article,\r\n        Url: $Url,\r\n        UrlFile: $UrlFile,\r\n        LineUrl: $LineUrl,\r\n        TwitterUrl: $TwitterUrl,\r\n        YoutubeUrl: $YoutubeUrl,\r\n        InstagramUrl: $InstagramUrl,\r\n        Email: $Email,\r\n        Category: $Category,\r\n        PublishStatus: $PublishStatus,\r\n        Order: $Order,\r\n      ) {\r\n        Id\r\n        Title\r\n        Subtitle\r\n        Description\r\n        Thumbnail\r\n        Article\r\n        Url\r\n        UrlFile\r\n        LineUrl\r\n        TwitterUrl\r\n        YoutubeUrl\r\n        InstagramUrl\r\n        Email\r\n        Category\r\n        PublishStatus\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = mutationGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tTitle,\r\n\t\t\tSubtitle,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tArticle,\r\n\t\t\tUrl,\r\n\t\t\tUrlFile,\r\n\t\t\tLineUrl,\r\n\t\t\tTwitterUrl,\r\n\t\t\tYoutubeUrl,\r\n\t\t\tInstagramUrl,\r\n\t\t\tEmail,\r\n\t\t\tCategory,\r\n\t\t\tPublishStatus,\r\n\t\t\tOrder: Order,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function switchPublish({ Id, PublishStatus }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $PublishStatus: Boolean, \r\n    ) {\r\n\tUpdateOrganizationContent (\r\n        Id: $Id,\r\n        PublishStatus: $PublishStatus, \r\n      ) {\r\n        Id\r\n        PublishStatus\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tPublishStatus,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function deleteOrganizationContent({ Id }) {\r\n\tconst query = `\r\n    mutation ($Id: String!) {\r\n\t\tDeleteOrganizationContent(Id: $Id) {\r\n        message\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n\tPageHeader,\r\n\tTable,\r\n\tSpace,\r\n\tButton,\r\n\tSwitch,\r\n\tRow,\r\n\tmessage as Message,\r\n\tModal,\r\n} from 'antd';\r\nimport {\r\n\tEditFilled,\r\n\tDeleteFilled,\r\n\tUserAddOutlined,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\tgetOrganizationContentList,\r\n\tdeleteOrganizationContent,\r\n\tswitchPublish,\r\n} from 'Service/OrganizationContent';\r\n\r\nconst { Column } = Table;\r\nconst { confirm } = Modal;\r\n\r\nexport default function OrganizationContent() {\r\n\tconst history = useHistory();\r\n\tconst [firstLoad, setFirstLoad] = useState(true);\r\n\tconst [organizationData, setOrganizationData] = useState([]);\r\n\tconst [pageProperty, setPageProperty] = useState({\r\n\t\tcurrent: 1,\r\n\t\tdataCount: 1,\r\n\t});\r\n\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [switchLoading, setSwitchLoading] = useState('');\r\n\r\n\tasync function getData() {\r\n\t\tshowFetchLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tOrganizationContents: { DataCount, Data },\r\n\t\t\t\t},\r\n\t\t\t} = await getOrganizationContentList({ Page: pageProperty.current });\r\n\r\n\t\t\tif (firstLoad) setFirstLoad(false);\r\n\r\n\t\t\tsetOrganizationData([...Data]);\r\n\t\t\tsetPageProperty({\r\n\t\t\t\t...pageProperty,\r\n\t\t\t\tdataCount: DataCount,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetData();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad) return;\r\n\t\tgetData();\r\n\t}, [pageProperty.current, setPageProperty]);\r\n\r\n\tfunction handleChangePage(page) {\r\n\t\tsetPageProperty({\r\n\t\t\t...pageProperty,\r\n\t\t\tcurrent: page,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleEdit(data) {\r\n\t\twindow.sessionStorage.setItem('editContent', JSON.stringify(data));\r\n\t\thistory.push(`/admin/ukm-ormawa/${data.Id}/sunting`);\r\n\t}\r\n\r\n\tfunction handleDelete(Id) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Apakah Anda yakin?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Ya',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Batalkan',\r\n\t\t\tonOk() {\r\n\t\t\t\tdeleteExistingOrganizationContent(Id);\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t}\r\n\r\n\tasync function handleChangeStatus(Id, PublishStatus) {\r\n\t\tsetSwitchLoading(Id);\r\n\t\ttry {\r\n\t\t\tawait switchPublish({ Id, PublishStatus: !PublishStatus });\r\n\t\t\tgetData();\r\n\r\n\t\t\tMessage.success('Pengguna berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\tsetSwitchLoading('');\r\n\t\t}\r\n\t}\r\n\r\n\tasync function deleteExistingOrganizationContent(Id) {\r\n\t\ttry {\r\n\t\t\tawait deleteOrganizationContent({ Id });\r\n\t\t\tgetData();\r\n\r\n\t\t\tMessage.success('Konten Organisasi berhasil dihapus');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Menejemen UKM & ORMAWA\" />\r\n\t\t\t<div className=\"assignment-table-container\">\r\n\t\t\t\t<Row className=\"assignment-add-container\" align=\"middle\" justify=\"end\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mr-5\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={<UserAddOutlined />}\r\n\t\t\t\t\t\tonClick={() => history.push('/admin/ukm-ormawa/tambah')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTambah UKM / ORMAWA\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tdataSource={organizationData}\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tposition: ['bottomCenter'],\r\n\t\t\t\t\t\tcurrent: pageProperty.current,\r\n\t\t\t\t\t\ttotal: pageProperty.dataCount,\r\n\t\t\t\t\t\tonChange: handleChangePage,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trowKey=\"Id\"\r\n\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Column title=\"Nama Organisasi\" dataIndex=\"Title\" key=\"Title\" />\r\n\t\t\t\t\t<Column title=\"Category\" dataIndex=\"Category\" key=\"Category\" />\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Tampilkan\"\r\n\t\t\t\t\t\tdataIndex=\"PublishStatus\"\r\n\t\t\t\t\t\tkey=\"PublishStatus\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tloading={switchLoading === record.Id}\r\n\t\t\t\t\t\t\t\tchecked={record.PublishStatus}\r\n\t\t\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\t\t\thandleChangeStatus(record.Id, record.PublishStatus);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Aksi\"\r\n\t\t\t\t\t\tkey=\"action\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<EditFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleEdit(record)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSunting\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<DeleteFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(record.Id)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tHapus\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\n\r\nfunction RichTextEditor({ textValue, onTextChange }) {\r\n\tfunction onEditorStateChange(editorState) {\r\n\t\tonTextChange(editorState);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Editor\r\n\t\t\t\teditorState={textValue}\r\n\t\t\t\tonEditorStateChange={onEditorStateChange}\r\n\t\t\t\t// wrapperClassName=\"wrapper-class\"\r\n\t\t\t\t// editorClassName=\"editor-class\"\r\n\t\t\t\t// toolbarClassName=\"toolbar-class\"\r\n\t\t\t\twrapperClassName=\"demo-wrapper\"\r\n\t\t\t\teditorClassName=\"demo-editor\"\r\n\t\t\t\twrapperStyle={{\r\n\t\t\t\t\tminHeight: 500,\r\n\t\t\t\t\tborder: '1px solid #e0e0e0',\r\n\t\t\t\t}}\r\n\t\t\t\teditorStyle={{\r\n\t\t\t\t\tminHeight: 490,\r\n\t\t\t\t\tborder: '1px solid #e0e0e0',\r\n\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\tborderRadius: 2,\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t}}\r\n\t\t\t\ttoolbar={{\r\n\t\t\t\t\tinline: {\r\n\t\t\t\t\t\tinDropdown: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlist: { inDropdown: true },\r\n\t\t\t\t\ttextAlign: { inDropdown: true },\r\n\t\t\t\t\tlink: { inDropdown: true },\r\n\t\t\t\t\thistory: { inDropdown: true },\r\n\t\t\t\t\temoji: { inDropdown: false },\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nRichTextEditor.propTypes = {\r\n\ttextValue: PropTypes.string.isRequired,\r\n\tonTextChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default RichTextEditor;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport {\r\n\tEditorState,\r\n\tconvertFromHTML,\r\n\tContentState,\r\n\tconvertToRaw,\r\n} from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport {\r\n\tRow,\r\n\tPageHeader,\r\n\tForm,\r\n\tInput,\r\n\tDivider,\r\n\tButton,\r\n\tSelect,\r\n\tmessage as Message,\r\n} from 'antd';\r\nimport {} from '@ant-design/icons';\r\n\r\nimport RichTextEditor from '../../Components/RichTextEditor/RichTextEditor';\r\n\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\taddOrganizationContent,\r\n\teditOrganizationContent,\r\n} from 'Service/OrganizationContent';\r\n\r\nexport default function OrganizationContentForm() {\r\n\tconst history = useHistory();\r\n\tlet location = useLocation();\r\n\tconst [type, setType] = useState('');\r\n\tconst [editorValue, setEditorValue] = useState(EditorState.createEmpty());\r\n\tconst [editContent, setEditContent] = useState({});\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst type = location.pathname.substring(\r\n\t\t\tlocation.pathname.lastIndexOf('/') + 1\r\n\t\t);\r\n\t\tif (type === 'sunting') {\r\n\t\t\tsetType('sunting');\r\n\t\t\tconst editContent = JSON.parse(sessionStorage.getItem('editContent'));\r\n\t\t\tsetEditContent(editContent);\r\n\t\t\tform.setFieldsValue(editContent);\r\n\r\n\t\t\tconst blocksFromHTML = convertFromHTML(editContent.Article);\r\n\t\t\tconst state = ContentState.createFromBlockArray(\r\n\t\t\t\tblocksFromHTML.contentBlocks,\r\n\t\t\t\tblocksFromHTML.entityMap\r\n\t\t\t);\r\n\t\t\tsetEditorValue(EditorState.createWithContent(state));\r\n\t\t}\r\n\t}, []);\r\n\r\n\tfunction handleSubmit() {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tif (type === 'sunting') {\r\n\t\t\t\tvalues.Article = draftToHtml(\r\n\t\t\t\t\tconvertToRaw(editorValue.getCurrentContent())\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet tempVal = {\r\n\t\t\t\t\t...editContent,\r\n\t\t\t\t\t...values,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn editExistingData(tempVal);\r\n\t\t\t}\r\n\t\t\tvalues.Article = draftToHtml(\r\n\t\t\t\tconvertToRaw(editorValue.getCurrentContent())\r\n\t\t\t);\r\n\t\t\treturn addNewData(values);\r\n\t\t});\r\n\t}\r\n\r\n\tasync function editExistingData(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait editOrganizationContent({ ...values });\r\n\t\t\tform.resetFields();\r\n\t\t\tMessage.success('Data organisasi berhasil diubah');\r\n\t\t\tsessionStorage.removeItem('editContent');\r\n\t\t\thistory.push('/admin/ukm-ormawa');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function addNewData(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait addOrganizationContent({ ...values });\r\n\t\t\tform.resetFields();\r\n\t\t\tMessage.success('Data organisasi berhasil ditambahkan');\r\n\t\t\tform.resetFields();\r\n\t\t\tsessionStorage.removeItem('editContent');\r\n\t\t\thistory.push('/admin/ukm-ormawa');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onCancel() {\r\n\t\tform.resetFields();\r\n\t\tsessionStorage.removeItem('editContent');\r\n\t\thistory.push('/admin/ukm-ormawa');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Form UMK / Ormawa\" />\r\n\t\t\t<div className=\"assignment-table-container\">\r\n\t\t\t\t<Form form={form} layout=\"vertical\">\r\n\t\t\t\t\t<Form.Item name=\"Title\" label=\"Judul\" rules={[{ required: true }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel=\"Kategori\"\r\n\t\t\t\t\t\tname=\"Category\"\r\n\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t{ required: true, message: 'Isi Kategori terlebih dahulu!' },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Select style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t<Select.Option value=\"UKM\">UKM</Select.Option>\r\n\t\t\t\t\t\t\t<Select.Option value=\"COMMUNITY\">Ormawa</Select.Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Subtitle\"\r\n\t\t\t\t\t\t\tlabel=\"Sub Judul\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Thumbnail\"\r\n\t\t\t\t\t\t\tlabel=\"Thumbnail\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"Description\"\r\n\t\t\t\t\t\tlabel=\"Deskripsi\"\r\n\t\t\t\t\t\t// rules={[{ required: true }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.TextArea rows={6} />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<RichTextEditor\r\n\t\t\t\t\t\ttextValue={editorValue}\r\n\t\t\t\t\t\tonTextChange={(value) => setEditorValue(value)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Divider orientation=\"left\">Link</Divider>\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Url\"\r\n\t\t\t\t\t\t\tlabel=\"External Link\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"UrlFile\"\r\n\t\t\t\t\t\t\tlabel=\"File Link\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Divider orientation=\"left\">Sosial Media</Divider>\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"LineUrl\"\r\n\t\t\t\t\t\t\tlabel=\"Line\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"TwitterUrl\"\r\n\t\t\t\t\t\t\tlabel=\"Twitter\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"YoutubeUrl\"\r\n\t\t\t\t\t\t\tlabel=\"Youtube\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"InstagramUrl\"\r\n\t\t\t\t\t\t\tlabel=\"Instagram\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Email\"\r\n\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{/* <Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Instagram\"\r\n\t\t\t\t\t\t\tlabel=\"Instagram\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<Row justify=\"end\">\r\n\t\t\t\t\t\t<Button className=\"mr-5\" onClick={onCancel}>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{type === 'sunting' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tonClick={() => handleSubmit()}\r\n\t\t\t\t\t\t\t\t// icon={<UserAddOutlined />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSimpan\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tloading={submitLoading}\r\n\t\t\t\t\t\t\t\t// icon={<UserAddOutlined />}\r\n\t\t\t\t\t\t\t\tonClick={() => handleSubmit()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tTambahkan\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nOrganizationContentForm.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Card, Switch, Divider } from 'antd';\r\nimport { EditOutlined, DeleteFilled } from '@ant-design/icons';\r\n\r\nimport './StoreCard.scss';\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function StoreCard({\r\n\tloading,\r\n\tdata,\r\n\thandleDelete,\r\n\thandleSwitch,\r\n\thandleEdit,\r\n}) {\r\n\tconst {\r\n\t\tId,\r\n\t\tName,\r\n\t\tDescription,\r\n\t\tThumbnail,\r\n\t\tProductCode,\r\n\t\tPrice,\r\n\t\tPublishStatus,\r\n\t} = data;\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\tstyle={{ width: 'auto', marginTop: 20 }}\r\n\t\t\tcover={\r\n\t\t\t\t<img\r\n\t\t\t\t\talt={Name}\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\tThumbnail\r\n\t\t\t\t\t\t\t? Thumbnail\r\n\t\t\t\t\t\t\t: 'https://drive.google.com/file/d/1fDKlN0a327o_MdoyzBNnQeg1ldYGxX8P/preview'\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\tactions={[\r\n\t\t\t\t<EditOutlined key=\"edit\" onClick={() => handleEdit(data)} />,\r\n\t\t\t\t<DeleteFilled\r\n\t\t\t\t\tkey=\"delete\"\r\n\t\t\t\t\tstyle={{ color: 'red' }}\r\n\t\t\t\t\tonClick={() => handleDelete(Id)}\r\n\t\t\t\t/>,\r\n\t\t\t\t<Switch\r\n\t\t\t\t\tkey=\"switch\"\r\n\t\t\t\t\tchecked={PublishStatus}\r\n\t\t\t\t\tonChange={() => handleSwitch(Id, PublishStatus)}\r\n\t\t\t\t/>,\r\n\t\t\t]}\r\n\t\t\tloading={loading}\r\n\t\t>\r\n\t\t\t<Meta title={Name} description={Description} />\r\n\t\t\t<Divider plain orientation=\"left\">\r\n\t\t\t\tKode\r\n\t\t\t</Divider>\r\n\t\t\t<Meta description={ProductCode} />\r\n\t\t\t<Divider plain orientation=\"left\">\r\n\t\t\t\tHarga\r\n\t\t\t</Divider>\r\n\t\t\t<Meta description={`Rp. ${Price}`} />\r\n\t\t</Card>\r\n\t);\r\n}\r\n\r\nStoreCard.propTypes = {\r\n\tloading: PropTypes.bool.isRequired,\r\n\tdata: PropTypes.object.isRequired,\r\n\thandleDelete: PropTypes.func.isRequired,\r\n\thandleSwitch: PropTypes.func.isRequired,\r\n\thandleEdit: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Form, Input } from 'antd';\r\n\r\nconst layout = {\r\n\tlayout: 'vertical',\r\n};\r\n\r\nexport default function ProductFormModal({\r\n\tisVisible,\r\n\tisEdit,\r\n\taddLoading,\r\n\thandleSubmit,\r\n\thandleCancel,\r\n\tformObject,\r\n}) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Tambah Produk Baru\"\r\n\t\t\tvisible={isVisible}\r\n\t\t\tonOk={handleSubmit}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tokText={isEdit ? 'Simpan' : 'Buat Baru'}\r\n\t\t\tcancelText=\"Batal\"\r\n\t\t\tconfirmLoading={addLoading}\r\n\t\t\tforceRender\r\n\t\t>\r\n\t\t\t<Form\r\n\t\t\t\t{...layout}\r\n\t\t\t\tform={formObject}\r\n\t\t\t\tname=\"addNewTimelineModal\"\r\n\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\tclassName=\"add-new-timeline\"\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Nama\"\r\n\t\t\t\t\tname=\"Name\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Isi Nama terlebih dahulu!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Nama produk\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Deskripsi\"\r\n\t\t\t\t\tname=\"Description\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Isi Deskripsi terlebih dahulu!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.TextArea\r\n\t\t\t\t\t\tplaceholder=\"Deskripsi produk\"\r\n\t\t\t\t\t\tautoSize={{ minRows: 3, maxRows: 6 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Link Foto Produk\"\r\n\t\t\t\t\tname=\"Thumbnail\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Link foto produk\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Kode Produk\"\r\n\t\t\t\t\tname=\"ProductCode\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Isi kode produk terlebih dahulu!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Kode produk\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Harga\"\r\n\t\t\t\t\tname=\"Price\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Isi Harga terlebih dahulu!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input type=\"number\" placeholder=\"Harga produk\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nProductFormModal.propTypes = {\r\n\tisVisible: PropTypes.bool.isRequired,\r\n\tisEdit: PropTypes.bool.isRequired,\r\n\taddLoading: PropTypes.bool.isRequired,\r\n\thandleSubmit: PropTypes.func.isRequired,\r\n\thandleCancel: PropTypes.func.isRequired,\r\n\tformObject: PropTypes.object,\r\n};\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport function getStoreProducts({ Page, Limit = 8 }) {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!, \r\n      $OrderBy: ProductOrderBy,\r\n      $OrderType: OrderType,\r\n      $PublishStatus: Boolean,\r\n      $Name: String,\r\n      $ProductCode: String,\r\n      $PriceGreaterThan: Int,\r\n      $PriceLowerThan: Int\r\n    ) {\r\n      Products(\r\n        Limit: $Limit, \r\n        Page: $Page, \r\n        OrderBy: $OrderBy,\r\n        OrderType: $OrderType,\r\n        PublishStatus: $PublishStatus,\r\n        Name: $Name,\r\n        ProductCode: $ProductCode,\r\n        PriceLowerThan: $PriceLowerThan,\r\n        PriceGreaterThan: $PriceGreaterThan\r\n      ) {\r\n        Data {\r\n          Id,\r\n          Name,\r\n          Description,\r\n          Thumbnail,\r\n          ProductCode,\r\n          Price,\r\n          Order,\r\n          PublishStatus\r\n        }\r\n        DataCount\r\n      }\r\n    }\r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit,\r\n\t\t\tPage,\r\n\t\t\tOrderBy: 'CreatedDate',\r\n\t\t\tOrderType: 'DESC',\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function createNewProduct({\r\n\tName,\r\n\tDescription,\r\n\tThumbnail,\r\n\tProductCode,\r\n\tPrice,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $Name: String!, \r\n      $Description: String, \r\n      $Thumbnail: String,\r\n      $ProductCode: String,\r\n      $Price: Int,\r\n      $PublishStatus: Boolean,\r\n    ) {\r\n      CreateProduct(\r\n        Name: $Name,\r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        ProductCode: $ProductCode,\r\n        Price: $Price,\r\n        PublishStatus: $PublishStatus,\r\n      ) {\r\n        Id\r\n        Name\r\n        Description\r\n        Thumbnail\r\n        ProductCode\r\n        Price\r\n        PublishStatus\r\n      }\r\n    }\r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tName,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tProductCode,\r\n\t\t\tPrice,\r\n\t\t\tPublishStatus: true,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function updateProduct({\r\n\tId,\r\n\tName,\r\n\tDescription,\r\n\tThumbnail,\r\n\tProductCode,\r\n\tPrice,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $Name: String!, \r\n      $Description: String, \r\n      $Thumbnail: String,\r\n      $ProductCode: String,\r\n      $Price: Int,\r\n    ) {\r\n      UpdateProduct(\r\n        Id: $Id,\r\n        Name: $Name,\r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        ProductCode: $ProductCode,\r\n        Price: $Price,\r\n      ) {\r\n        Id\r\n        Name\r\n        Description\r\n        Thumbnail\r\n        ProductCode\r\n        Price\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tName,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tProductCode,\r\n\t\t\tPrice,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function deleteProduct({ Id }) {\r\n\tconst query = `\r\n    mutation ($Id: String!) {\r\n      DeleteProduct(Id: $Id) {\r\n        message\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function switchPublish({ Id, PublishStatus }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $PublishStatus: Boolean, \r\n    ) {\r\n      UpdateProduct(\r\n        Id: $Id,\r\n        PublishStatus: $PublishStatus, \r\n      ) {\r\n        Id\r\n        PublishStatus\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tPublishStatus,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n\tPageHeader,\r\n\tRow,\r\n\tCol,\r\n\tButton,\r\n\tmessage as Message,\r\n\tEmpty,\r\n\tPagination,\r\n\tSpin,\r\n\tModal,\r\n\tForm,\r\n} from 'antd';\r\nimport { PlusCircleFilled, ExclamationCircleOutlined } from '@ant-design/icons';\r\n\r\nimport StoreCard from 'Components/Card/StoreCard';\r\nimport ProductFormModal from 'Components/Modal/ProductFormModal';\r\n\r\nimport {\r\n\tgetStoreProducts,\r\n\tcreateNewProduct,\r\n\tdeleteProduct,\r\n\tswitchPublish,\r\n\tupdateProduct,\r\n} from 'Service/Store';\r\n\r\nimport useModal from 'Hooks/useModal';\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nconst { PRESENTED_IMAGE_SIMPLE } = Empty;\r\nconst PAGE_SIZE = 8;\r\nconst { confirm } = Modal;\r\n\r\nexport default function Store() {\r\n\tconst [products, setProducts] = useState([]);\r\n\tconst [pageProperty, setPageProperty] = useState({\r\n\t\tcurrent: 1,\r\n\t\tdataCount: 1,\r\n\t});\r\n\tconst [isEdit, setIsEdit] = useState(false);\r\n\tconst [selectedProduct, setSelectedProduct] = useState(null);\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [isFormModalVisible, openFormModal, closeFormModal] = useModal();\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\tconst [firstLoad, setFirstLoad] = useState(true);\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tasync function getProducts() {\r\n\t\tshowFetchLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tProducts: { DataCount, Data },\r\n\t\t\t\t},\r\n\t\t\t} = await getStoreProducts({\r\n\t\t\t\tPage: pageProperty.current,\r\n\t\t\t\tLimit: PAGE_SIZE,\r\n\t\t\t});\r\n\r\n\t\t\tif (firstLoad) setFirstLoad(false);\r\n\r\n\t\t\tsetProducts([...Data]);\r\n\t\t\tsetPageProperty({\r\n\t\t\t\t...pageProperty,\r\n\t\t\t\tdataCount: DataCount,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetProducts();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad) return;\r\n\r\n\t\tgetProducts();\r\n\t}, [pageProperty.current, setPageProperty]);\r\n\r\n\tasync function deleteExistingProduct(Id) {\r\n\t\ttry {\r\n\t\t\tconst res = await deleteProduct({ Id });\r\n\t\t\tgetProducts();\r\n\r\n\t\t\tMessage.success('Produk berhasil dihapus');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function addNewProduct(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst { data } = await createNewProduct({ ...values });\r\n\r\n\t\t\tgetProducts();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\r\n\t\t\tMessage.success('Produk berhasil ditambahkan');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function editProduct(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst { data } = await updateProduct({ ...values });\r\n\r\n\t\t\tgetProducts();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Produk berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleOpen() {\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleClose() {\r\n\t\tif (isEdit) setIsEdit(false);\r\n\r\n\t\tcloseFormModal();\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\tfunction handleChangePage(page) {\r\n\t\tsetPageProperty({\r\n\t\t\t...pageProperty,\r\n\t\t\tcurrent: page,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleEdit(product) {\r\n\t\tsetSelectedProduct(product);\r\n\t\tsetIsEdit(true);\r\n\r\n\t\tform.setFieldsValue(product);\r\n\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tasync function handleChangeStatus(Id, PublishStatus) {\r\n\t\ttry {\r\n\t\t\tconst res = await switchPublish({ Id, PublishStatus: !PublishStatus });\r\n\r\n\t\t\tgetProducts();\r\n\r\n\t\t\tMessage.success('Status produk berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleDelete(Id) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Apakah Anda yakin?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Ya',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Batalkan',\r\n\t\t\tonOk() {\r\n\t\t\t\tdeleteExistingProduct(Id);\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleSubmit() {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tlet tempVal = {\r\n\t\t\t\t...selectedProduct,\r\n\t\t\t\t...values,\r\n\t\t\t\tPrice: parseInt(values.Price),\r\n\t\t\t};\r\n\r\n\t\t\tif (isEdit) {\r\n\t\t\t\treturn editProduct(tempVal);\r\n\t\t\t}\r\n\r\n\t\t\treturn addNewProduct(tempVal);\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"MPKMB Store\" />\r\n\t\t\t<div style={{ padding: '32px' }}>\r\n\t\t\t\t<Row style={{ paddingBottom: 15 }} align=\"middle\" justify=\"end\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={<PlusCircleFilled />}\r\n\t\t\t\t\t\tonClick={handleOpen}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTambah Produk Baru\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row\r\n\t\t\t\t\tgutter={{ xs: 8, sm: 8, md: 24, lg: 32 }}\r\n\t\t\t\t\talign=\"top\"\r\n\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{fetchLoading ? (\r\n\t\t\t\t\t\t<Spin size=\"large\" tip=\"Mohon tunggu...\" />\r\n\t\t\t\t\t) : products.length > 0 ? (\r\n\t\t\t\t\t\tproducts.map((product, index) => (\r\n\t\t\t\t\t\t\t<Col key={index} className=\"gutter-row\" span={6}>\r\n\t\t\t\t\t\t\t\t<StoreCard\r\n\t\t\t\t\t\t\t\t\tdata={product}\r\n\t\t\t\t\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t\t\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\t\t\t\t\t\thandleSwitch={handleChangeStatus}\r\n\t\t\t\t\t\t\t\t\thandleEdit={handleEdit}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Empty image={PRESENTED_IMAGE_SIMPLE} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t\t{!fetchLoading && products ? (\r\n\t\t\t\t\t<Row style={{ paddingTop: 30 }} align=\"middle\" justify=\"center\">\r\n\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\tcurrent={pageProperty.current}\r\n\t\t\t\t\t\t\ttotal={pageProperty.dataCount}\r\n\t\t\t\t\t\t\tdefaultPageSize={PAGE_SIZE}\r\n\t\t\t\t\t\t\tonChange={handleChangePage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<ProductFormModal\r\n\t\t\t\tisVisible={isFormModalVisible}\r\n\t\t\t\tisEdit={isEdit}\r\n\t\t\t\taddLoading={submitLoading}\r\n\t\t\t\thandleCancel={handleClose}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tformObject={form}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Form, Input, DatePicker } from 'antd';\r\n\r\nconst layout = {\r\n\tlayout: 'vertical',\r\n};\r\n\r\nexport function CreateLeaderboardFormModal({\r\n\tisVisible,\r\n\tisEdit,\r\n\taddLoading,\r\n\thandleSubmit,\r\n\thandleCancel,\r\n\tformObject,\r\n}) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Tambah Produk Baru\"\r\n\t\t\tvisible={isVisible}\r\n\t\t\tonOk={handleSubmit}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tokText={isEdit ? 'Simpan' : 'Buat Baru'}\r\n\t\t\tcancelText=\"Batal\"\r\n\t\t\tconfirmLoading={addLoading}\r\n\t\t\tforceRender\r\n\t\t>\r\n\t\t\t<Form\r\n\t\t\t\t{...layout}\r\n\t\t\t\tform={formObject}\r\n\t\t\t\tname=\"addNewTimelineModal\"\r\n\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\tclassName=\"add-new-timeline\"\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Judul\"\r\n\t\t\t\t\tname=\"Title\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Isi Judul terlebih dahulu!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Judul Leaderboard\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Deskripsi\"\r\n\t\t\t\t\tname=\"Description\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Isi Deskripsi terlebih dahulu!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.TextArea\r\n\t\t\t\t\t\tplaceholder=\"Deskripsi Leaderboard\"\r\n\t\t\t\t\t\tautoSize={{ minRows: 3, maxRows: 6 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Tanggal Leaderboard\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tname=\"Date\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Isi tanggal leaderboard terlebih dahulu!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DatePicker />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nexport function CreateUserFormModal({\r\n\tisVisible,\r\n\tisEdit,\r\n\taddLoading,\r\n\thandleSubmit,\r\n\thandleCancel,\r\n\tformObject,\r\n}) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Tambah Produk Baru\"\r\n\t\t\tvisible={isVisible}\r\n\t\t\tonOk={handleSubmit}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tokText={isEdit ? 'Simpan' : 'Buat Baru'}\r\n\t\t\tcancelText=\"Batal\"\r\n\t\t\tconfirmLoading={addLoading}\r\n\t\t\tforceRender\r\n\t\t>\r\n\t\t\t<Form\r\n\t\t\t\t{...layout}\r\n\t\t\t\tform={formObject}\r\n\t\t\t\tname=\"addNewTimelineModal\"\r\n\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\tclassName=\"add-new-timeline\"\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Nama\"\r\n\t\t\t\t\tname=\"Name\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Jangan biarkan Nama kosong!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Nama\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"NIM\"\r\n\t\t\t\t\tname=\"NIM\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Jangan biarkan NIM kosong!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"NIM\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Poin\"\r\n\t\t\t\t\tname=\"Point\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Jangan biarkan Nama kosong!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Poin\" type=\"number\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Rangking\"\r\n\t\t\t\t\tname=\"Rank\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Jangan biarkan Rangking kosong!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Rangking\" type=\"number\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nCreateLeaderboardFormModal.propTypes = {\r\n\tisVisible: PropTypes.bool.isRequired,\r\n\tisEdit: PropTypes.bool.isRequired,\r\n\taddLoading: PropTypes.bool.isRequired,\r\n\thandleSubmit: PropTypes.func.isRequired,\r\n\thandleCancel: PropTypes.func.isRequired,\r\n\tformObject: PropTypes.object,\r\n};\r\n\r\nCreateUserFormModal.propTypes = {\r\n\tisVisible: PropTypes.bool.isRequired,\r\n\tisEdit: PropTypes.bool.isRequired,\r\n\taddLoading: PropTypes.bool.isRequired,\r\n\thandleSubmit: PropTypes.func.isRequired,\r\n\thandleCancel: PropTypes.func.isRequired,\r\n\tformObject: PropTypes.object,\r\n};\r\n","import XLSX from 'xlsx';\r\n\r\nexport async function extractJSON(file) {\r\n\tconst reader = new FileReader();\r\n\tconst rABS = !!reader.readAsBinaryString;\r\n\r\n\tlet data = null;\r\n\r\n\tif (rABS) {\r\n\t\treader.readAsBinaryString(file);\r\n\t} else {\r\n\t\treader.readAsArrayBuffer(file);\r\n\t}\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\treader.onload = (e) => {\r\n\t\t\t/* Parse data */\r\n\t\t\tconst bstr = e.target.result;\r\n\t\t\tconst wb = XLSX.read(bstr, {\r\n\t\t\t\ttype: rABS ? 'binary' : 'array',\r\n\t\t\t\tbookVBA: true,\r\n\t\t\t});\r\n\t\t\t/* Get first worksheet */\r\n\t\t\tconst wsname = wb.SheetNames[0];\r\n\t\t\tconst ws = wb.Sheets[wsname];\r\n\t\t\t/* Convert array of arrays */\r\n\t\t\tdata = XLSX.utils.sheet_to_json(ws);\r\n\r\n\t\t\tresolve(data);\r\n\t\t};\r\n\r\n\t\treader.onerror = () => {\r\n\t\t\treader.abort();\r\n\t\t\treject(new Error('Terjadi kesalahan ketika memindai file.'));\r\n\t\t};\r\n\t});\r\n}\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport Cookies from 'js-cookie';\r\n\r\n// For Leaderboard\r\n\r\nexport function getLeaderboards() {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!,\r\n      $IsPublish: Boolean,\r\n      $RankSort: String\r\n    ) {\r\n      Leaderboards(\r\n        Limit: $Limit,\r\n        Page: $Page, \r\n        IsPublish: $IsPublish,\r\n        RankSort: $RankSort,\r\n      ) {\r\n        LeaderboardId\r\n        Title\r\n        Description\r\n        Date\r\n        IsPublish\r\n        Users {\r\n          LeaderboardUserId\r\n          LeaderboardId\r\n          Name\r\n          NIM\r\n          Point\r\n          Rank\r\n        }\r\n      }\r\n    }\r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit: 1000,\r\n\t\t\tPage: 1,\r\n\t\t\tRankSort: 'ASC',\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function addLeaderboard({ Title, Description, Date, IsPublish }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Title: String!,\r\n      $Description: String!,\r\n      $Date: String!,\r\n      $IsPublish: Boolean!\r\n    ) {\r\n      CreateOrUpdateLeaderboard(\r\n        Title: $Title,\r\n        Description: $Description,\r\n        Date: $Date,\r\n        IsPublish: $IsPublish\r\n      ) {\r\n        LeaderboardId\r\n        Title\r\n        Description\r\n        Date\r\n        IsPublish\r\n        Users {\r\n          LeaderboardUserId\r\n          Name\r\n          NIM\r\n          Point\r\n          Rank\r\n        }\r\n      }\r\n    }\r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tTitle,\r\n\t\t\tDescription,\r\n\t\t\tDate,\r\n\t\t\tIsPublish: true,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editLeaderboard({\r\n\tLeaderboardId,\r\n\tTitle,\r\n\tDescription,\r\n\tDate,\r\n\tIsPublish,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $LeaderboardId: String,\r\n      $Title: String!,\r\n      $Description: String!,\r\n      $Date: String!,\r\n      $IsPublish: Boolean!\r\n    ) {\r\n      CreateOrUpdateLeaderboard(\r\n        LeaderboardId: $LeaderboardId,\r\n        Title: $Title,\r\n        Description: $Description,\r\n        Date: $Date,\r\n        IsPublish: $IsPublish\r\n      ) {\r\n        LeaderboardId\r\n        Title\r\n        Description\r\n        Date\r\n        IsPublish\r\n      }\r\n    }\r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLeaderboardId,\r\n\t\t\tTitle,\r\n\t\t\tDescription,\r\n\t\t\tDate,\r\n\t\t\tIsPublish,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\n// For Leaderboard users\r\n\r\nexport function addLeaderboardUsers({ LeaderboardId, Users }) {\r\n\tconst query = `\r\n    mutation(\r\n      $LeaderboardId: String!,\r\n      $Users: [LeaderboardUserInput]\r\n    ) {\r\n      CreateOrUpdateLeaderboardUser(\r\n        LeaderboardId: $LeaderboardId,\r\n        Users: $Users\r\n      ) {\r\n        LeaderboardId\r\n        Rank\r\n        NIM\r\n        Point\r\n        Name\r\n      }\r\n    }\r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLeaderboardId,\r\n\t\t\tUsers,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editLeaderboardUser({ LeaderboardId, Users }) {\r\n\tconst query = `\r\n    mutation(\r\n      $LeaderboardId: String!,\r\n      $Users: [LeaderboardUserInput]\r\n    ) {\r\n      CreateOrUpdateLeaderboardUser(\r\n        LeaderboardId: $LeaderboardId,\r\n        Users: $Users\r\n      ) {\r\n        LeaderboardId\r\n        Rank\r\n        NIM\r\n        Point\r\n        Name\r\n      }\r\n    }\r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLeaderboardId,\r\n\t\t\tUsers,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function getLeaderboardUsers({ LeaderboardId }) {\r\n\tconst query = `\r\n    query (\r\n      $LeaderboardId: String!\r\n    ) {\r\n      LeaderboardUsers(\r\n        LeaderboardId: $LeaderboardId\r\n      ) {\r\n        LeaderboardId\r\n        Users {\r\n          LeaderboardUserId\r\n          Name\r\n          NIM\r\n          Point\r\n          Rank\r\n        }\r\n      }\r\n    }\r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLeaderboardId,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function deleteLeaderboardUser({ LeaderboardUserId }) {\r\n\tconst query = `\r\n    mutation (\r\n      $LeaderboardUserId: String!\r\n    ) {\r\n      DeleteLeaderboardUser(\r\n        LeaderboardUserId: $LeaderboardUserId\r\n      )\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLeaderboardUserId,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport {\r\n\tPageHeader,\r\n\tRow,\r\n\tCol,\r\n\tButton,\r\n\tTable,\r\n\tSwitch,\r\n\tForm,\r\n\tEmpty,\r\n\tmessage as Message,\r\n\tTypography,\r\n\tTooltip,\r\n\tSpace,\r\n\tUpload,\r\n\tModal,\r\n} from 'antd';\r\nimport {\r\n\tPlusCircleFilled,\r\n\tEditFilled,\r\n\tUploadOutlined,\r\n\tDeleteFilled,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport {\r\n\tCreateUserFormModal,\r\n\tCreateLeaderboardFormModal,\r\n} from 'Components/Modal/LeaderboardFormModal';\r\nimport { parseDate } from 'Utils/date';\r\nimport { extractJSON } from 'Utils/readExcel';\r\n\r\nimport useModal from 'Hooks/useModal';\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\tgetLeaderboards,\r\n\taddLeaderboard,\r\n\teditLeaderboard,\r\n\taddLeaderboardUsers,\r\n\tgetLeaderboardUsers,\r\n\tdeleteLeaderboardUser,\r\n\teditLeaderboardUser,\r\n} from 'Service/Leaderboard';\r\n\r\nconst { Column } = Table;\r\nconst { Title, Text } = Typography;\r\nconst { confirm } = Modal;\r\n\r\nfunction LeaderboardUserUpload({ file, addFile, uploadFile, uploadLoading }) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Upload\r\n\t\t\t\taccept=\".xlsx\"\r\n\t\t\t\tshowUploadList={false}\r\n\t\t\t\tbeforeUpload={(file) => {\r\n\t\t\t\t\taddFile(file);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Button>\r\n\t\t\t\t\t<UploadOutlined /> Pilih file excel untuk diunggah\r\n\t\t\t\t</Button>\r\n\t\t\t</Upload>\r\n\t\t\t<Button\r\n\t\t\t\tloading={uploadLoading}\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tstyle={{ marginTop: 16 }}\r\n\t\t\t\tonClick={uploadFile}\r\n\t\t\t>\r\n\t\t\t\tUnggah File Excel\r\n\t\t\t</Button>\r\n\t\t\t{file ? (\r\n\t\t\t\t<Text style={{ display: 'block', marginTop: 10 }}>{file.name}</Text>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default function Leaderboard() {\r\n\tconst [leaderboards, setLeaderboards] = useState([]);\r\n\tconst [selectedLeaderboard, setSelectedLeaderboard] = useState(null);\r\n\tconst [usersFile, setUsersFile] = useState(null);\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst [selectedUser, setSelectedUser] = useState(null);\r\n\tconst [isEdit, setIsEdit] = useState(false);\r\n\tconst firstLoad = useRef(true);\r\n\tconst [usersNotSufficient, setUsersNotSufficient] = useState(false);\r\n\r\n\tconst [\r\n\t\tisLeaderboardFormModalVisible,\r\n\t\tshowLeaderboardFormModal,\r\n\t\thideLeaderboardFormModal,\r\n\t] = useModal();\r\n\tconst [\r\n\t\tisLeaderboardUserFormModalVisible,\r\n\t\tshowLeaderboardUserFormModal,\r\n\t\thideLeaderboardUserFormModal,\r\n\t] = useModal();\r\n\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [\r\n\t\tusersFetchLoading,\r\n\t\tshowUsersFetchLoading,\r\n\t\thideUsersFetchLoading,\r\n\t] = useLoading();\r\n\tconst [\r\n\t\tparseExcelLoading,\r\n\t\tshowParseExcelLoading,\r\n\t\thideParseExcelLoading,\r\n\t] = useLoading();\r\n\r\n\tconst [LeaderboardForm] = Form.useForm();\r\n\tconst [LeaderboardUserForm] = Form.useForm();\r\n\r\n\tasync function getLeaderboardsData() {\r\n\t\tshowFetchLoading();\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: { Leaderboards },\r\n\t\t\t} = await getLeaderboards();\r\n\r\n\t\t\tsetLeaderboards([...Leaderboards]);\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function createNewLeaderboard(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst res = await addLeaderboard(values);\r\n\r\n\t\t\thideLeaderboardFormModal();\r\n\r\n\t\t\tgetLeaderboardsData();\r\n\r\n\t\t\tMessage.success('Leaderboard berhasil dibuat.');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function editExistingLeaderboard(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst res = await editLeaderboard(values);\r\n\r\n\t\t\thideLeaderboardFormModal();\r\n\r\n\t\t\tgetLeaderboardsData();\r\n\r\n\t\t\tMessage.success('Leaderboard berhasil diubah.');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function fetchLeaderboardUsers(LeaderboardId) {\r\n\t\tshowUsersFetchLoading();\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tLeaderboardUsers: { Users },\r\n\t\t\t\t},\r\n\t\t\t} = await getLeaderboardUsers({ LeaderboardId });\r\n\r\n\t\t\tsetUsers([...Users]);\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideUsersFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function addNewLeaderboardUser(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst res = await addLeaderboardUsers(values);\r\n\r\n\t\t\tLeaderboardUserForm.resetFields();\r\n\t\t\thideLeaderboardUserFormModal();\r\n\r\n\t\t\tfetchLeaderboardUsers(selectedLeaderboard.LeaderboardId);\r\n\r\n\t\t\tMessage.success('Peserta berhasil ditambahkan.');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function removeLeaderboardUser(LeaderboardUserId) {\r\n\t\tshowUsersFetchLoading();\r\n\t\ttry {\r\n\t\t\tlet newUsers = [...users];\r\n\r\n\t\t\tconst index = newUsers.findIndex(\r\n\t\t\t\t(item) => LeaderboardUserId === item.LeaderboardUserId\r\n\t\t\t);\r\n\r\n\t\t\tif (index === -1) return;\r\n\r\n\t\t\tnewUsers.splice(index, 1);\r\n\r\n\t\t\tconst res = await deleteLeaderboardUser({ LeaderboardUserId });\r\n\r\n\t\t\tsetUsers([...newUsers]);\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideUsersFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function editExistingUser(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst res = await editLeaderboardUser(values);\r\n\r\n\t\t\tLeaderboardUserForm.resetFields();\r\n\t\t\thideLeaderboardUserFormModal();\r\n\r\n\t\t\tfetchLeaderboardUsers(selectedLeaderboard.LeaderboardId);\r\n\r\n\t\t\tMessage.success('Peserta berhasil diubah.');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\t// UseEffect\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad.current) firstLoad.current = false;\r\n\r\n\t\tgetLeaderboardsData();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\t// if (firstLoad.current) return;\r\n\t\tif (selectedLeaderboard && users.length > 0) {\r\n\t\t\tif (users.length < 10) setUsersNotSufficient(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetUsersNotSufficient(false);\r\n\t}, [users]);\r\n\r\n\t// Handle functions\r\n\tfunction handleCloseLeaderboardModal() {\r\n\t\thideLeaderboardFormModal();\r\n\t\tLeaderboardForm.resetFields();\r\n\r\n\t\tsetSelectedLeaderboard(null);\r\n\r\n\t\tif (isEdit) setIsEdit(false);\r\n\t}\r\n\r\n\tfunction handleCloseUserModal() {\r\n\t\thideLeaderboardUserFormModal();\r\n\t\tLeaderboardUserForm.resetFields();\r\n\r\n\t\tsetSelectedUser(null);\r\n\r\n\t\tif (isEdit) setIsEdit(false);\r\n\t}\r\n\r\n\tfunction handleSubmitLeaderboardForm() {\r\n\t\tLeaderboardForm.validateFields().then((formValue) => {\r\n\t\t\tlet { Date } = formValue;\r\n\r\n\t\t\tlet values = {\r\n\t\t\t\t...formValue,\r\n\t\t\t\tDate: Date.format('YYYY-MM-DD'),\r\n\t\t\t};\r\n\r\n\t\t\tif (isEdit) {\r\n\t\t\t\tlet editedVal = {\r\n\t\t\t\t\t...selectedLeaderboard,\r\n\t\t\t\t\t...values,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn editExistingLeaderboard(editedVal);\r\n\t\t\t}\r\n\r\n\t\t\treturn createNewLeaderboard(values);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleSelectLeaderboard(leaderboard) {\r\n\t\tconst { Users } = leaderboard;\r\n\r\n\t\tsetUsers(Users);\r\n\t\tsetSelectedLeaderboard(leaderboard);\r\n\t}\r\n\r\n\tfunction handleLeaderboardSwitch(event, leaderboard) {\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tconst { IsPublish, Date } = leaderboard;\r\n\r\n\t\tlet newValue = {\r\n\t\t\t...leaderboard,\r\n\t\t\tDate: moment(parseDate(Date)),\r\n\t\t\tIsPublish: !IsPublish,\r\n\t\t};\r\n\r\n\t\teditExistingLeaderboard(newValue);\r\n\t}\r\n\r\n\tfunction handleEditLeaderboard(leaderboard) {\r\n\t\tlet temp = {\r\n\t\t\t...leaderboard,\r\n\t\t\tDate: moment(parseDate(leaderboard.Date)),\r\n\t\t};\r\n\r\n\t\tsetIsEdit(true);\r\n\t\tsetSelectedLeaderboard(temp);\r\n\r\n\t\tLeaderboardForm.setFieldsValue(temp);\r\n\t\tshowLeaderboardFormModal();\r\n\t}\r\n\r\n\tfunction handleAddFile(file) {\r\n\t\tsetUsersFile(file);\r\n\t}\r\n\r\n\tasync function handleUploadExcelFile() {\r\n\t\tif (!usersFile) {\r\n\t\t\tMessage.warn(\r\n\t\t\t\t'Tidak ada file untuk diunggah. Silahkan pilih terlebih dahulu.'\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tshowParseExcelLoading();\r\n\r\n\t\tconst { LeaderboardId } = selectedLeaderboard;\r\n\r\n\t\ttry {\r\n\t\t\tawait extractJSON(usersFile).then(async (data) => {\r\n\t\t\t\tconst res = await addLeaderboardUsers({ LeaderboardId, Users: data });\r\n\r\n\t\t\t\tMessage.success('Data peringkat berhasil diunggah.');\r\n\r\n\t\t\t\tfetchLeaderboardUsers(LeaderboardId);\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tMessage.error(e);\r\n\t\t} finally {\r\n\t\t\thideParseExcelLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleDeleteUser(LeaderboardUserId) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Apakah Anda yakin?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Ya',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Batalkan',\r\n\t\t\tonOk() {\r\n\t\t\t\tremoveLeaderboardUser(LeaderboardUserId);\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleEditUser(user) {\r\n\t\tsetIsEdit(true);\r\n\t\tsetSelectedUser(user);\r\n\r\n\t\tLeaderboardUserForm.setFieldsValue(user);\r\n\t\tshowLeaderboardUserFormModal();\r\n\t}\r\n\r\n\tfunction handleSubmitLeaderboardUserForm() {\r\n\t\tif (users.length === 10) {\r\n\t\t\tMessage.warn('Peserta pada peringkat telah mencapai batas maksimum');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tLeaderboardUserForm.validateFields().then((formValue) => {\r\n\t\t\tlet values = {\r\n\t\t\t\tLeaderboardId: selectedLeaderboard.LeaderboardId,\r\n\t\t\t\tUsers: {\r\n\t\t\t\t\t...formValue,\r\n\t\t\t\t\tRank: parseInt(formValue.Rank),\r\n\t\t\t\t\tPoint: parseInt(formValue.Point),\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tif (isEdit) {\r\n\t\t\t\tlet editedVal = {\r\n\t\t\t\t\t...values,\r\n\t\t\t\t\tUsers: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t...values.Users,\r\n\t\t\t\t\t\t\tLeaderboardUserId: selectedUser.LeaderboardUserId,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn editExistingUser(editedVal);\r\n\t\t\t}\r\n\r\n\t\t\tvalues = {\r\n\t\t\t\t...values,\r\n\t\t\t\tUsers: [{ ...values.Users }],\r\n\t\t\t};\r\n\r\n\t\t\treturn addNewLeaderboardUser(values);\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Leaderboard\" />\r\n\t\t\t<div style={{ padding: 32 }}>\r\n\t\t\t\t<Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32 }}>\r\n\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t<Row style={{ paddingBottom: 15 }} align=\"middle\" justify=\"end\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\ticon={<PlusCircleFilled />}\r\n\t\t\t\t\t\t\t\tonClick={showLeaderboardFormModal}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tTambah Leaderboard baru\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\trowSelection={{\r\n\t\t\t\t\t\t\t\tselections: true,\r\n\t\t\t\t\t\t\t\ttype: 'radio',\r\n\t\t\t\t\t\t\t\tonSelect: (record) => handleSelectLeaderboard(record),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\trowKey=\"LeaderboardId\"\r\n\t\t\t\t\t\t\tdataSource={leaderboards}\r\n\t\t\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t\t\t\tlocale={{\r\n\t\t\t\t\t\t\t\temptyText: (\r\n\t\t\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\r\n\t\t\t\t\t\t\t\t\t\tdescription=\"Silahkan buat leaderboard terlebih dahulu\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Column title=\"Judul\" dataIndex=\"Title\" key=\"Title\" />\r\n\t\t\t\t\t\t\t<Column\r\n\t\t\t\t\t\t\t\ttitle=\"Deskripsi\"\r\n\t\t\t\t\t\t\t\tdataIndex=\"Description\"\r\n\t\t\t\t\t\t\t\tkey=\"Description\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Column\r\n\t\t\t\t\t\t\t\ttitle=\"Tanggal\"\r\n\t\t\t\t\t\t\t\tdataIndex=\"Date\"\r\n\t\t\t\t\t\t\t\tkey=\"Date\"\r\n\t\t\t\t\t\t\t\trender={(text, record) => <Text>{parseDate(record.Date)}</Text>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Column\r\n\t\t\t\t\t\t\t\tkey=\"action\"\r\n\t\t\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\t\tloading={submitLoading}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={record.IsPublish}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(checkStatus, e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleLeaderboardSwitch(e, record)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sunting\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditLeaderboard(record)}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<EditFilled />}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t<Row style={{ paddingBottom: 10 }} align=\"middle\" justify=\"start\">\r\n\t\t\t\t\t\t\t<Col span={usersNotSufficient ? 9 : 12}>\r\n\t\t\t\t\t\t\t\t<Title level={4}>Peringkat Peserta</Title>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t{usersNotSufficient && (\r\n\t\t\t\t\t\t\t\t<Col span={3}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\ticon={<PlusCircleFilled />}\r\n\t\t\t\t\t\t\t\t\t\tonClick={showLeaderboardUserFormModal}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tTambah Peserta\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\tdataSource={users}\r\n\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\trowKey=\"LeaderboardUserId\"\r\n\t\t\t\t\t\t\tlocale={{\r\n\t\t\t\t\t\t\t\temptyText: selectedLeaderboard ? (\r\n\t\t\t\t\t\t\t\t\t<LeaderboardUserUpload\r\n\t\t\t\t\t\t\t\t\t\taddFile={handleAddFile}\r\n\t\t\t\t\t\t\t\t\t\tuploadFile={handleUploadExcelFile}\r\n\t\t\t\t\t\t\t\t\t\tfile={usersFile}\r\n\t\t\t\t\t\t\t\t\t\tuploadLoading={parseExcelLoading}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\r\n\t\t\t\t\t\t\t\t\t\tdescription=\"Silahkan pilih leaderboard terlebih dahulu\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tloading={usersFetchLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Column title=\"Ranking\" dataIndex=\"Rank\" key=\"Rank\" />\r\n\t\t\t\t\t\t\t<Column title=\"Nama\" dataIndex=\"Name\" key=\"Name\" />\r\n\t\t\t\t\t\t\t<Column title=\"NIM\" dataIndex=\"NIM\" key=\"NIM\" />\r\n\t\t\t\t\t\t\t<Column title=\"Poin\" dataIndex=\"Point\" key=\"Point\" />\r\n\t\t\t\t\t\t\t<Column\r\n\t\t\t\t\t\t\t\tkey=\"action\"\r\n\t\t\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Hapus\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteUser(record.LeaderboardUserId)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<DeleteFilled />}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sunting\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditUser(record)}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<EditFilled />}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t\t<CreateLeaderboardFormModal\r\n\t\t\t\tisVisible={isLeaderboardFormModalVisible}\r\n\t\t\t\tisEdit={isEdit}\r\n\t\t\t\taddLoading={submitLoading}\r\n\t\t\t\thandleCancel={handleCloseLeaderboardModal}\r\n\t\t\t\thandleSubmit={handleSubmitLeaderboardForm}\r\n\t\t\t\tformObject={LeaderboardForm}\r\n\t\t\t/>\r\n\t\t\t<CreateUserFormModal\r\n\t\t\t\tisVisible={isLeaderboardUserFormModalVisible}\r\n\t\t\t\tisEdit={isEdit}\r\n\t\t\t\taddLoading={submitLoading}\r\n\t\t\t\thandleCancel={handleCloseUserModal}\r\n\t\t\t\thandleSubmit={handleSubmitLeaderboardUserForm}\r\n\t\t\t\tformObject={LeaderboardUserForm}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nLeaderboardUserUpload.propTypes = {\r\n\tfile: PropTypes.object,\r\n\taddFile: PropTypes.func.isRequired,\r\n\tuploadFile: PropTypes.func.isRequired,\r\n\tuploadLoading: PropTypes.bool,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, Button, Input } from 'antd';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst CommentEditor = ({\r\n\tonCancel,\r\n\tvalue,\r\n\tonChange,\r\n\tonSubmit,\r\n\tsubmitLoading,\r\n\tId,\r\n\tselectedId,\r\n}) => (\r\n\t<>\r\n\t\t<Form.Item>\r\n\t\t\t<TextArea\r\n\t\t\t\trows={4}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={(e) => onChange(e.target.value)}\r\n\t\t\t/>\r\n\t\t</Form.Item>\r\n\t\t<Form.Item>\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"mr-5\"\r\n\t\t\t\tloading={Id === selectedId ? submitLoading : false}\r\n\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tonClick={onSubmit}\r\n\t\t\t>\r\n\t\t\t\tBalas\r\n\t\t\t</Button>\r\n\t\t\t<Button htmlType=\"submit\" type=\"danger\" onClick={onCancel}>\r\n\t\t\t\tBatal\r\n\t\t\t</Button>\r\n\t\t</Form.Item>\r\n\t</>\r\n);\r\n\r\nCommentEditor.propTypes = {\r\n\tonChange: PropTypes.func.isRequired,\r\n\tonSubmit: PropTypes.func.isRequired,\r\n\tonCancel: PropTypes.func.isRequired,\r\n\tsubmitLoading: PropTypes.bool.isRequired,\r\n\tId: PropTypes.string,\r\n\tselectedId: PropTypes.string,\r\n\tvalue: PropTypes.string,\r\n};\r\n\r\nexport default CommentEditor;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Comment as CommentComponent, Avatar, Switch, Tooltip } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tCheckOutlined,\r\n\tCloseOutlined,\r\n} from '@ant-design/icons';\r\nimport { formatDate } from 'Utils/date';\r\nimport CommentEditor from './CommentEditor';\r\n\r\nfunction Comment({\r\n\tId,\r\n\tUsername,\r\n\tQuestion,\r\n\tAnswer,\r\n\tPublishStatus,\r\n\tcreatedAt,\r\n\tupdatedAt,\r\n\tsubmitLoading,\r\n\tswitchLoading,\r\n\thandleChangeStatus,\r\n\thandleReply,\r\n\thandleDelete,\r\n}) {\r\n\tconst [showRelpies, setShowReplies] = useState(false);\r\n\tconst [showEditor, setShowEditor] = useState(false);\r\n\tconst [selectedId, setSelectedId] = useState('');\r\n\tconst [textValue, setTextValue] = useState('');\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CommentComponent\r\n\t\t\t\tactions={\r\n\t\t\t\t\t!showEditor && [\r\n\t\t\t\t\t\tAnswer && Answer !== '' ? (\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tkey=\"comment-basic-reply-to\"\r\n\t\t\t\t\t\t\t\tonClick={() => setShowReplies(!showRelpies)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!showRelpies ? 'Lihat balasan' : 'Tutup'}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tkey=\"comment-basic-reply-to\"\r\n\t\t\t\t\t\t\t\tclassName=\"reply\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetSelectedId(Id);\r\n\t\t\t\t\t\t\t\t\tsetShowEditor(!showEditor);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tBalas\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tkey={Id}\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\tAnswer && Answer !== ''\r\n\t\t\t\t\t\t\t\t\t? 'publish status'\r\n\t\t\t\t\t\t\t\t\t: 'silahkan balas terlebih dahulu !'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tcheckedChildren={<CheckOutlined />}\r\n\t\t\t\t\t\t\t\tunCheckedChildren={<CloseOutlined />}\r\n\t\t\t\t\t\t\t\tdisabled={Answer && Answer !== '' ? false : true}\r\n\t\t\t\t\t\t\t\tloading={selectedId === Id ? switchLoading : false}\r\n\t\t\t\t\t\t\t\tchecked={PublishStatus}\r\n\t\t\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\t\t\tsetSelectedId(Id);\r\n\t\t\t\t\t\t\t\t\thandleChangeStatus(Id, PublishStatus);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>,\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tkey=\"comment-basic-reply-to\"\r\n\t\t\t\t\t\t\tclassName=\"delete-qna\"\r\n\t\t\t\t\t\t\tonClick={() => handleDelete(Id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHapus <DeleteOutlined />\r\n\t\t\t\t\t\t</span>,\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t\tauthor={<a>{Username}</a>}\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tsrc=\"https://www.pngitem.com/pimgs/m/146-1468479_my-profile-icon-blank-profile-picture-circle-hd.png\"\r\n\t\t\t\t\t\talt=\"profile picture\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\tcontent={<p>{Question}</p>}\r\n\t\t\t\tdatetime={formatDate(parseInt(createdAt))}\r\n\t\t\t>\r\n\t\t\t\t{Answer !== '' && showRelpies ? (\r\n\t\t\t\t\t<CommentComponent\r\n\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tkey=\"comment-basic-reply-to\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetTextValue(Answer);\r\n\t\t\t\t\t\t\t\t\tsetSelectedId(Id);\r\n\t\t\t\t\t\t\t\t\tsetShowReplies(!showRelpies);\r\n\t\t\t\t\t\t\t\t\tsetShowEditor(!showEditor);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tUbah Jawaban\r\n\t\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\t</span>,\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tauthor={<a>Admin</a>}\r\n\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsrc=\"https://www.pngitem.com/pimgs/m/146-1468479_my-profile-icon-blank-profile-picture-circle-hd.png\"\r\n\t\t\t\t\t\t\t\talt=\"profile picture\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontent={<p>{Answer}</p>}\r\n\t\t\t\t\t\tdatetime={formatDate(parseInt(updatedAt))}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tshowEditor && (\r\n\t\t\t\t\t\t<CommentEditor\r\n\t\t\t\t\t\t\tsubmitLoading={submitLoading}\r\n\t\t\t\t\t\t\tId={Id}\r\n\t\t\t\t\t\t\tselectedId={selectedId}\r\n\t\t\t\t\t\t\tvalue={textValue}\r\n\t\t\t\t\t\t\thandleReply={handleReply}\r\n\t\t\t\t\t\t\tonChange={setTextValue}\r\n\t\t\t\t\t\t\tonSubmit={() => {\r\n\t\t\t\t\t\t\t\thandleReply(Id, textValue);\r\n\t\t\t\t\t\t\t\tsetShowReplies(false);\r\n\t\t\t\t\t\t\t\tsetShowEditor(false);\r\n\t\t\t\t\t\t\t\tsetTextValue('');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => {\r\n\t\t\t\t\t\t\t\tsetShowReplies(false);\r\n\t\t\t\t\t\t\t\tsetShowEditor(false);\r\n\t\t\t\t\t\t\t\tsetSelectedId('');\r\n\t\t\t\t\t\t\t\tsetTextValue('');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</CommentComponent>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nComment.propTypes = {\r\n\tId: PropTypes.string.isRequired,\r\n\tUsername: PropTypes.string.isRequired,\r\n\tQuestion: PropTypes.string.isRequired,\r\n\tAnswer: PropTypes.string,\r\n\tPublishStatus: PropTypes.bool.isRequired,\r\n\tsubmitLoading: PropTypes.bool.isRequired,\r\n\tswitchLoading: PropTypes.bool.isRequired,\r\n\tcreatedAt: PropTypes.string,\r\n\tupdatedAt: PropTypes.string,\r\n\thandleChangeStatus: PropTypes.func,\r\n\thandleReply: PropTypes.func,\r\n\thandleDelete: PropTypes.func,\r\n};\r\n\r\nexport default Comment;\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport function getQNAList({ Page, Limit = 10 }) {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!, \r\n      $OrderBy: QNAOrderBy, \r\n      $OrderType: OrderType, \r\n      $PublishStatus: Boolean, \r\n      $Username: String,\r\n    ) {\r\n      QNAs(\r\n        Limit: $Limit,\r\n        Page: $Page, \r\n        OrderBy: $OrderBy, \r\n        OrderType: $OrderType, \r\n        PublishStatus: $PublishStatus, \r\n        Username: $Username, \r\n      ) {\r\n        Data {\r\n          Id\r\n          Username\r\n          Question\r\n          Answer\r\n          PublishStatus\r\n          Order\r\n          CreatedDate\r\n          LastUpdated\r\n        }\r\n        DataCount\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit,\r\n\t\t\tPage,\r\n\t\t\tOrderBy: 'CreatedDate',\r\n\t\t\tOrderType: 'DESC',\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function addQNA({ Username, Question }) {\r\n\tconst query = `\r\n    mutation (\r\n        $Username: String,\r\n        $Question: String!,\r\n    ) {\r\n\tCreateQNA(\r\n        Username: $Username,\r\n        Question: $Question,\r\n      ) {\r\n        Id\r\n        Username\r\n        Question\r\n        Answer\r\n        PublishStatus\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tUsername,\r\n\t\t\tQuestion,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editQNA({ Id, Answer, PublishStatus, Order }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $Answer: String,\r\n      $Order: Int,\r\n      $PublishStatus: Boolean,\r\n    ) {\r\n\tUpdateQNA(\r\n        Id: $Id,\r\n        Answer: $Answer,\r\n        Order: $Order,\r\n        PublishStatus: $PublishStatus,\r\n      ) {\r\n        Id\r\n        Username\r\n        Question\r\n        Answer\r\n        PublishStatus\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tAnswer,\r\n\t\t\tPublishStatus,\r\n\t\t\tOrder,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function switchPublish({ Id, PublishStatus }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $PublishStatus: Boolean, \r\n    ) {\r\n      UpdateQNA (\r\n        Id: $Id,\r\n        PublishStatus: $PublishStatus, \r\n      ) {\r\n        Id\r\n        PublishStatus\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tPublishStatus,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function DeleteQNA({ Id }) {\r\n\tconst query = `\r\n    mutation ($Id: String!) {\r\n\t\tDeleteQNA(Id: $Id) {\r\n        message\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport './QNA.scss';\r\nimport {\r\n\tList,\r\n\tPageHeader,\r\n\tmessage as Message,\r\n\tRow,\r\n\tPagination,\r\n\tModal,\r\n} from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport Comment from 'Components/Comment/Comment';\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\tgetQNAList,\r\n\tswitchPublish,\r\n\teditQNA,\r\n\tDeleteQNA,\r\n} from 'Service/QNA';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function QNA() {\r\n\tconst [firstLoad, setFirstLoad] = useState(true);\r\n\tconst [qnaData, setQnaData] = useState([]);\r\n\tconst [pageProperty, setPageProperty] = useState({\r\n\t\tcurrent: 1,\r\n\t\tdataCount: 1,\r\n\t});\r\n\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\tconst [switchLoading, showSwitchLoading, hideSwitchLoading] = useLoading();\r\n\r\n\tasync function getQNA() {\r\n\t\tshowFetchLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tQNAs: { DataCount, Data },\r\n\t\t\t\t},\r\n\t\t\t} = await getQNAList({ Page: pageProperty.current });\r\n\r\n\t\t\tif (firstLoad) setFirstLoad(false);\r\n\r\n\t\t\tsetQnaData([...Data]);\r\n\t\t\tsetPageProperty({\r\n\t\t\t\t...pageProperty,\r\n\t\t\t\tdataCount: DataCount,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetQNA();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad) return;\r\n\r\n\t\tgetQNA();\r\n\t}, [pageProperty.current, setPageProperty]);\r\n\r\n\tfunction handleChangePage(page) {\r\n\t\tsetPageProperty({\r\n\t\t\t...pageProperty,\r\n\t\t\tcurrent: page,\r\n\t\t});\r\n\t}\r\n\r\n\tasync function handleReply(Id, Answer) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait editQNA({ Id, Answer });\r\n\t\t\tMessage.success('Status qna berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t\tgetQNA();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function handleChangeStatus(Id, PublishStatus) {\r\n\t\tshowSwitchLoading();\r\n\t\ttry {\r\n\t\t\tawait switchPublish({ Id, PublishStatus: !PublishStatus });\r\n\t\t\tMessage.success('Status qna berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSwitchLoading();\r\n\t\t\tgetQNA();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function deleteQNA(Id) {\r\n\t\tshowFetchLoading();\r\n\t\ttry {\r\n\t\t\tawait DeleteQNA({ Id });\r\n\t\t\tMessage.success('qna berhasil dihapus');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\tgetQNA();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleDelete(Id) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Apakah Anda yakin?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Ya',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Batalkan',\r\n\t\t\tonOk() {\r\n\t\t\t\tdeleteQNA(Id);\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Question and Answer\" />\r\n\t\t\t<div className=\"dashboard-container\">\r\n\t\t\t\t<List\r\n\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t\tclassName=\"comment-list\"\r\n\t\t\t\t\theader={`${qnaData.length} Questions`}\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={qnaData}\r\n\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t<li className=\"list-qna\">\r\n\t\t\t\t\t\t\t<Comment\r\n\t\t\t\t\t\t\t\tId={item.Id}\r\n\t\t\t\t\t\t\t\tUsername={item.Username}\r\n\t\t\t\t\t\t\t\tQuestion={item.Question}\r\n\t\t\t\t\t\t\t\tAnswer={item.Answer}\r\n\t\t\t\t\t\t\t\tPublishStatus={item.PublishStatus}\r\n\t\t\t\t\t\t\t\tcreatedAt={item.CreatedDate}\r\n\t\t\t\t\t\t\t\tupdatedAt={item.LastUpdated}\r\n\t\t\t\t\t\t\t\tsubmitLoading={submitLoading}\r\n\t\t\t\t\t\t\t\tswitchLoading={switchLoading}\r\n\t\t\t\t\t\t\t\thandleChangeStatus={handleChangeStatus}\r\n\t\t\t\t\t\t\t\thandleReply={handleReply}\r\n\t\t\t\t\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t{!fetchLoading && (\r\n\t\t\t\t<Row\r\n\t\t\t\t\tstyle={{ paddingTop: 20, paddingBottom: 20 }}\r\n\t\t\t\t\talign=\"middle\"\r\n\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\tcurrent={pageProperty.current}\r\n\t\t\t\t\t\ttotal={pageProperty.dataCount}\r\n\t\t\t\t\t\tonChange={handleChangePage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport history from 'Utils/history';\r\nimport PropTypes from 'prop-types';\r\nimport Cookies from 'js-cookie';\r\n\r\nimport LayoutBase from 'Components/Layout/LayoutBase';\r\n\r\nimport Login from 'Pages/Login/Login';\r\nimport Dashboard from 'Pages/Dashboard/Dashboard';\r\nimport Assignment from 'Pages/Assignment/Assignment';\r\nimport User from 'Pages/User/User';\r\nimport Timeline from 'Pages/Timeline/Timeline';\r\nimport {\r\n\tOrganizationContent,\r\n\tOrganizationContentForm,\r\n} from 'Pages/OrganizationContent';\r\nimport Store from 'Pages/Store/Store';\r\nimport Leaderboard from 'Pages/Leaderboard/Leaderboard';\r\nimport QNA from 'Pages/QNA/QNA';\r\n\r\nexport const ROUTES = [\r\n\t{\r\n\t\tpath: '/login',\r\n\t\tkey: 'LOGIN',\r\n\t\texact: true,\r\n\t\tlayout: false,\r\n\t\tcomponent: Login,\r\n\t},\r\n\t{\r\n\t\tpath: '/admin',\r\n\t\tkey: 'ADMIN_ROUTES',\r\n\t\tcomponent: CheckAuth,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin',\r\n\t\t\t\tkey: 'DASHBOARD',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: Dashboard,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/penugasan',\r\n\t\t\t\tkey: 'ASSIGNMENT',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: Assignment,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/pengguna',\r\n\t\t\t\tkey: 'USER',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: User,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/timeline',\r\n\t\t\t\tkey: 'TIMELINE',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: Timeline,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/ukm-ormawa',\r\n\t\t\t\tkey: 'UKM-ORMAWA',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: OrganizationContent,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/ukm-ormawa/tambah',\r\n\t\t\t\tkey: 'ADD_UKM_ORMAWA',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: OrganizationContentForm,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/ukm-ormawa/:id/sunting',\r\n\t\t\t\tkey: 'SUNTING_UKM_ORMAWA',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: OrganizationContentForm,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/mpkmb-store',\r\n\t\t\t\tkey: 'MPKMB_STORE_DASHBOARD',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: Store,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/leaderboard',\r\n\t\t\t\tkey: 'MPKMB_STORE_LEADERBOARD',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: Leaderboard,\r\n      },\r\n      {\r\n\t\t\t\tpath: '/admin/qna',\r\n\t\t\t\tkey: 'MPKMB_QNA',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: QNA,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nfunction CheckAuth(props) {\r\n\tif (!Cookies.get('MPKMB_ADMIN_TOKEN')) {\r\n\t\talert('Anda harus login terlebih dahulu!');\r\n\t\treturn <Redirect to={'/'} />;\r\n\t}\r\n\treturn <RenderRoutes {...props} />;\r\n}\r\n\r\nfunction ModifiedRoute(route) {\r\n\tconst { layout } = route;\r\n\r\n\tif (!layout)\r\n\t\treturn (\r\n\t\t\t<Route\r\n\t\t\t\tpath={route.path}\r\n\t\t\t\texact={route.exact}\r\n\t\t\t\trender={(props) => <route.component {...props} routes={route.routes} />}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<LayoutBase>\r\n\t\t\t<Route\r\n\t\t\t\tpath={route.path}\r\n\t\t\t\texact={route.exact}\r\n\t\t\t\trender={(props) => <route.component {...props} routes={route.routes} />}\r\n\t\t\t/>\r\n\t\t</LayoutBase>\r\n\t);\r\n}\r\n\r\nexport default function RenderRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Router history={history}>\r\n\t\t\t<Switch>\r\n\t\t\t\t{routes.map((route) => {\r\n\t\t\t\t\treturn <ModifiedRoute key={route.key} {...route} />;\r\n\t\t\t\t})}\r\n\t\t\t\t<Route exact path=\"/\" component={() => <Redirect to=\"/login\" />} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<h1>Not Found!</h1>\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t);\r\n}\r\n\r\nRenderRoutes.propTypes = {\r\n\troutes: PropTypes.arrayOf(\r\n\t\tPropTypes.shape({\r\n\t\t\troute: PropTypes.object,\r\n\t\t})\r\n\t),\r\n};\r\n","import React from 'react';\nimport RenderRoutes, { ROUTES } from './routes';\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<RenderRoutes routes={ROUTES} />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}