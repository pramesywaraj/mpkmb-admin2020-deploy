{"version":3,"sources":["Assets/logo.svg","Utils/history.js","Components/Layout/LayoutBase.js","Hooks/useLoading.js","Utils/fetchGraphql.js","Service/Login.js","Pages/Login/Login.js","Pages/Dashboard/Dashboard.js","Components/Modal/AddNewAssignmentModal.js","Hooks/useModal.js","Service/Assignment.js","Constants/assignmentConst.js","Pages/Assignment/Assignment.js","Components/Modal/UserModal.js","Service/User.js","Pages/User/User.js","Utils/mutationGraphql.js","Service/OrganizationContent.js","Pages/OrganizationContent/OrganizationContent.js","Components/RichTextEditor/RichTextEditor.js","Pages/OrganizationContent/OrganizationContentForm.js","routes.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","history","createBrowserHistory","Content","Layout","Header","Footer","Sider","Text","Menu","SubMenu","Typography","Link","menuItems","id","route","name","icon","HomeFilled","ReadFilled","UserOutlined","GlobalOutlined","LayoutBase","children","useState","collapsed","setCollapsed","useHistory","className","collapsible","onCollapse","src","MainLogo","alt","theme","defaultSelectedKeys","mode","map","Item","key","onClick","push","onGoTo","LogoutOutlined","Cookies","remove","setTimeout","alert","style","textAlign","mark","role","aria-label","href","useLoading","loading","setLoading","url","process","fetchGraphql","headers","query","variables","getUrl","URL","searchParams","append","sha256","JSON","stringify","persistedConfig","method","normalConfig","body","Promise","resolve","reject","fetch","then","response","status","Error","json","catch","e","message","errors","length","err","onLogin","Email","Password","Title","layout","labelCol","span","tailLayout","wrapperCol","offset","Option","Select","AddNewAssignmentModal","isVisible","isEdit","addLoading","handleSubmit","handleCancel","formObject","title","visible","onOk","onCancel","okText","cancelText","confirmLoading","forceRender","form","initialValues","remember","marginBottom","label","rules","required","placeholder","width","value","TextArea","autoSize","minRows","maxRows","useModal","setStatus","getAssignmentList","Page","Limit","Authorization","getJSON","Token","OrderBy","OrderType","addAssignment","Description","Thumbnail","Url","Category","Type","PublishStatus","Order","editAssignment","Id","switchPublish","deleteAssignment","Column","Table","confirm","Modal","UserModal","modalType","hasFeedback","dependencies","getFieldValue","validator","rule","getUserList","addUser","Name","hashedPass","IsActive","editUserProfile","switchIsActive","UpdateUserPassword","a","OldPassword","NewPassword","hashedOldPass","hashedNewPass","res","mutationGraphql","config","getOrganizationContentList","addOrganizationContent","Subtitle","Article","UrlFile","LineUrl","TwitterUrl","YoutubeUrl","InstagramUrl","editOrganizationContent","deleteOrganizationContent","RichTextEditor","textValue","onTextChange","editorState","onEditorStateChange","wrapperClassName","editorClassName","wrapperStyle","minHeight","border","editorStyle","padding","borderRadius","height","toolbar","inline","inDropdown","list","link","emoji","OrganizationContentForm","location","useLocation","type","setType","EditorState","createEmpty","editorValue","setEditorValue","editContent","setEditContent","submitLoading","showSubmitLoading","hideSubmitLoading","Form","useForm","validateFields","values","draftToHtml","convertToRaw","getCurrentContent","editExistingData","addNewData","resetFields","Message","success","sessionStorage","removeItem","error","useEffect","pathname","substring","lastIndexOf","parse","getItem","setFieldsValue","blocksFromHTML","convertFromHTML","state","ContentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","display","marginRight","rows","orientation","justify","htmlType","ROUTES","path","exact","component","userData","getFieldsValue","email","password","data","Login","set","get","bordered","onFinish","block","props","to","RenderRoutes","routes","description","showIcon","firstLoad","setFirstLoad","assignmentData","setAssignmentData","current","dataCount","pageProperty","setPageProperty","setIsEdit","selectedAssignment","setSelectedAssignment","isFormModalVisible","openFormModal","closeFormModal","fetchLoading","showFetchLoading","hideFetchLoading","switchLoading","showSwitchLoading","hideSwitchLoading","getAssignment","Contents","DataCount","Data","handleDelete","ExclamationCircleOutlined","okType","deleteExistingAssignment","align","dataSource","pagination","position","total","onChange","page","rowKey","dataIndex","render","color","text","record","checked","handleChangeStatus","size","EditFilled","assignment","danger","DeleteFilled","editExistingAssignment","addNewAssignment","setUserData","setModalType","selectedUser","setSelectedUser","setSwitchLoading","getUser","Users","onLogout","UserAddOutlined","KeyOutlined","user","editExistingUser","updatePasswordUser","addNewUser","organizationData","setOrganizationData","getData","OrganizationContents","deleteExistingOrganizationContent","window","setItem","ModifiedRoute","App","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.a1e08367.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.4b68e09c.svg\";","import { createBrowserHistory } from 'history';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport 'antd/dist/antd.css';\r\nimport { Layout, Menu, Typography } from 'antd';\r\n\r\nimport {\r\n\tHomeFilled,\r\n\tReadFilled,\r\n\tLogoutOutlined,\r\n\tUserOutlined,\r\n\tGlobalOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport './LayoutBase.scss';\r\nimport MainLogo from 'Assets/logo.svg';\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\nconst { Text, Link } = Typography;\r\n\r\nconst menuItems = [\r\n\t{\r\n\t\tid: '1',\r\n\t\troute: '/',\r\n\t\tname: 'Dashboard',\r\n\t\ticon: <HomeFilled />,\r\n\t},\r\n\t{\r\n\t\tid: '2',\r\n\t\troute: '/penugasan',\r\n\t\tname: 'Penugasan',\r\n\t\ticon: <ReadFilled />,\r\n\t},\r\n\t{\r\n\t\tid: '3',\r\n\t\troute: '/pengguna',\r\n\t\tname: 'Pengguna',\r\n\t\ticon: <UserOutlined />,\r\n\t},\r\n\t{\r\n\t\tid: '4',\r\n\t\troute: '/ukm-ormawa',\r\n\t\tname: 'UKM & Ormawa',\r\n\t\ticon: <GlobalOutlined />,\r\n\t},\r\n];\r\n\r\nexport default function LayoutBase({ children }) {\r\n\tconst [collapsed, setCollapsed] = useState(false);\r\n\tconst history = useHistory();\r\n\r\n\tfunction onCollapsed(collapsed) {\r\n\t\tsetCollapsed(collapsed);\r\n\t}\r\n\r\n\tfunction onGoTo(route) {\r\n\t\thistory.push(`/admin${route}`);\r\n\t}\r\n\r\n\tfunction onLogout() {\r\n\t\tCookies.remove('MPKMB_ADMIN_TOKEN');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\talert('Anda telah keluar dari aplikasi ini.');\r\n\t\t\thistory.push('/');\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Layout className=\"layout-container\">\r\n\t\t\t<Sider collapsible collapsed={collapsed} onCollapse={onCollapsed}>\r\n\t\t\t\t<div className=\"layout-logo\">\r\n\t\t\t\t\t<img src={MainLogo} alt=\"Logo MPKMB 2020\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n\t\t\t\t\t{menuItems.map(({ id, icon, name, route }) => (\r\n\t\t\t\t\t\t<Menu.Item key={id} icon={icon} onClick={() => onGoTo(route)}>\r\n\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<Menu.Item key=\"logout\" icon={<LogoutOutlined />} onClick={onLogout}>\r\n\t\t\t\t\t\tKeluar\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</Menu>\r\n\t\t\t</Sider>\r\n\t\t\t<Layout className=\"site-layout\">\r\n\t\t\t\t<Content className=\"layout-content-container\">{children}</Content>\r\n\t\t\t\t<Footer style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Text mark className=\"with-love-text\">\r\n\t\t\t\t\t\tCreated with{' '}\r\n\t\t\t\t\t\t<span role=\"img\" aria-label=\"love-emoji\">\r\n\t\t\t\t\t\t\t❤️\r\n\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\tby <Link href=\"https://codepanda.id/\">Codepanda</Link>\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</Footer>\r\n\t\t\t</Layout>\r\n\t\t</Layout>\r\n\t);\r\n}\r\n\r\nLayoutBase.propTypes = {\r\n\tchildren: PropTypes.node.isRequired,\r\n};\r\n","import { useState } from 'react';\r\n\r\nexport default function useLoading() {\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tfunction showLoading() {\r\n\t\tsetLoading(true);\r\n\t}\r\n\r\n\tfunction hideLoading() {\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\treturn [loading, showLoading, hideLoading];\r\n}\r\n","import { sha256 } from 'js-sha256';\r\n\r\nconst url = process.env.REACT_APP_API_URL;\r\n\r\nexport function fetchGraphql({ headers, query, variables }) {\r\n\tconst getUrl = new URL(url);\r\n\tgetUrl.searchParams.append('hash', sha256(query));\r\n\tgetUrl.searchParams.append('variables', JSON.stringify(variables));\r\n\r\n\tconst persistedConfig = {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\t...headers,\r\n\t\t},\r\n\t};\r\n\r\n\tconst normalConfig = {\r\n\t\tmethod: 'POST',\r\n\t\theaders: persistedConfig.headers,\r\n\t\tbody: JSON.stringify({\r\n\t\t\tquery,\r\n\t\t\tvariables,\r\n\t\t}),\r\n\t};\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tfetch(getUrl, persistedConfig)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (response && (response.status === 400 || response.status === 405))\r\n\t\t\t\t\tthrow Error(response.status);\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresolve(response);\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (e.message === '400' || e.message === '405') {\r\n\t\t\t\t\tfetch(new URL(url), normalConfig)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tif (response.errors && response.errors.length > 0)\r\n\t\t\t\t\t\t\t\treturn reject(response.errors[0]);\r\n\t\t\t\t\t\t\tresolve(response);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t});\r\n}\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\n\r\nexport function onLogin({ Email, Password }) {\r\n\tconst res = fetchGraphql({\r\n\t\tquery: `\r\n      mutation(\r\n        $Email: String!,\r\n        $Password: String!\r\n      ) {\r\n        Login(\r\n          Email: $Email,\r\n          Password: $Password\r\n        ) {\r\n          Token\r\n        }\r\n      }\r\n    `,\r\n\t\tvariables: {\r\n\t\t\tEmail,\r\n\t\t\tPassword,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { sha256 } from 'js-sha256';\r\nimport Cookies from 'js-cookie';\r\n\r\nimport './Login.scss';\r\n\r\nimport useLoading from 'Hooks/useLoading';\r\nimport { onLogin } from 'Service/Login';\r\n\r\nimport {\r\n\tForm,\r\n\tInput,\r\n\tButton,\r\n\tTypography,\r\n\tCard,\r\n\tmessage as Message,\r\n} from 'antd';\r\n\r\nconst { Title, Text, Link } = Typography;\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 5 },\r\n};\r\n\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 5 },\r\n};\r\n\r\nexport default function Login() {\r\n\tconst [form] = Form.useForm();\r\n\tconst history = useHistory();\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (Cookies.get('MPKMB_ADMIN_TOKEN')) history.push('/admin');\r\n\t}, []);\r\n\r\n\tasync function handleLogin() {\r\n\t\tshowSubmitLoading();\r\n\r\n\t\tlet userData = {\r\n\t\t\t...form.getFieldsValue(),\r\n\t\t};\r\n\r\n\t\tconst { email, password } = userData;\r\n\r\n\t\tlet hashedPass = sha256(password);\r\n\r\n\t\ttry {\r\n\t\t\t// Destructure nested object\r\n\t\t\tconst {\r\n\t\t\t\tdata: { Login: Token },\r\n\t\t\t} = await onLogin({ Email: email, Password: hashedPass });\r\n\r\n\t\t\tawait Cookies.set('MPKMB_ADMIN_TOKEN', Token);\r\n\r\n\t\t\tMessage.success('Anda berhasil masuk');\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thistory.push('/admin');\r\n\t\t\t}, 1000);\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"container login-container\">\r\n\t\t\t<Title>MPKMB 2020</Title>\r\n\t\t\t<Card title=\"Login untuk Masuk\" bordered={false} className=\"login-card\">\r\n\t\t\t\t<Form\r\n\t\t\t\t\t{...layout}\r\n\t\t\t\t\tform={form}\r\n\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\tclassName=\"login-form\"\r\n\t\t\t\t\tonFinish={handleLogin}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Isi Email terlebih dahulu!' }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t{ required: true, message: 'Isi Password terlebih dahulu!' },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item {...tailLayout} className=\"login-button-submit\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t\tloading={submitLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Card>\r\n\t\t\t<Text mark className=\"with-love-text\">\r\n\t\t\t\tCreated with{' '}\r\n\t\t\t\t<span role=\"img\" aria-label=\"love-emoji\">\r\n\t\t\t\t\t❤️\r\n\t\t\t\t</span>{' '}\r\n\t\t\t\tby <Link href=\"https://codepanda.id/\">Codepanda</Link>\r\n\t\t\t</Text>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Typography, PageHeader, Alert } from 'antd';\r\n\r\nimport './Dashboard.scss';\r\n\r\nconst { Title } = Typography;\r\n\r\nexport default function Dashboard() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Dashboard\" />\r\n\t\t\t<div className=\"dashboard-container\">\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Selamat datang di panel admin MPKMB 2020\"\r\n\t\t\t\t\tdescription=\"Saat ini panel admin MPKMB 2020 sedang dalam tahap pengembangan. Apabila pengguna menemukan kesalahan pada sistem, silahkan hubungi pengembang.\"\r\n\t\t\t\t\ttype=\"warning\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Form, Input, Select } from 'antd';\r\n\r\nconst layout = {\r\n\tlayout: 'vertical',\r\n};\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function AddNewAssignmentModal({\r\n\tisVisible,\r\n\tisEdit,\r\n\taddLoading,\r\n\thandleSubmit,\r\n\thandleCancel,\r\n\tformObject,\r\n}) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Tambah Tugas/Materi Baru\"\r\n\t\t\tvisible={isVisible}\r\n\t\t\tonOk={handleSubmit}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tokText={isEdit ? 'Simpan' : 'Buat Baru'}\r\n\t\t\tcancelText=\"Batal\"\r\n\t\t\tconfirmLoading={addLoading}\r\n\t\t\tforceRender\r\n\t\t>\r\n\t\t\t<Form\r\n\t\t\t\t{...layout}\r\n\t\t\t\tform={formObject}\r\n\t\t\t\tname=\"addNewAssignmentForm\"\r\n\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\tclassName=\"add-assignment\"\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Judul\"\r\n\t\t\t\t\tname=\"Title\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Isi Judul terlebih dahulu!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Judul tugas/materi\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Tipe\"\r\n\t\t\t\t\tname=\"Type\"\r\n\t\t\t\t\trules={[{ required: true, message: 'Isi Tipe terlebih dahulu!' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Select style={{ width: '100%' }}>\r\n\t\t\t\t\t\t<Option value=\"TUGAS\">Penugasan</Option>\r\n\t\t\t\t\t\t<Option value=\"MATERI\">Materi</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Deskripsi\"\r\n\t\t\t\t\tname=\"Description\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: 'Isi Deskripsi terlebih dahulu!' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.TextArea\r\n\t\t\t\t\t\tplaceholder=\"Deskripsi tugas/materi\"\r\n\t\t\t\t\t\tautoSize={{ minRows: 3, maxRows: 6 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Thumbnail Tugas/Materi\"\r\n\t\t\t\t\tname=\"Thumbnail\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Isi link gambar thumbnail terlebih dahulu!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Link untuk thumbnail\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Link Tugas/Materi\"\r\n\t\t\t\t\tname=\"Url\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Isi link untuk tugas/materi terlebih dahulu!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Link untuk tugas/materi\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel=\"Kategori\"\r\n\t\t\t\t\tname=\"Category\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Isi kategori terlebih dahulu!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Ketegori untuk judul pada tab\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nAddNewAssignmentModal.propTypes = {\r\n\tisVisible: PropTypes.bool.isRequired,\r\n\tisEdit: PropTypes.bool.isRequired,\r\n\taddLoading: PropTypes.bool.isRequired,\r\n\thandleSubmit: PropTypes.func.isRequired,\r\n\thandleCancel: PropTypes.func.isRequired,\r\n\tformObject: PropTypes.object,\r\n};\r\n","import { useState } from 'react';\r\n\r\nexport default function useModal() {\r\n\tconst [status, setStatus] = useState(false);\r\n\r\n\tfunction openModal() {\r\n\t\tsetStatus(true);\r\n\t}\r\n\r\n\tfunction closeModal() {\r\n\t\tsetStatus(false);\r\n\t}\r\n\r\n\treturn [status, openModal, closeModal];\r\n}\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport function getAssignmentList({ Page, Limit = 10 }) {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!, \r\n      $OrderBy: ContentOrderBy, \r\n      $OrderType: OrderType, \r\n      $PublishStatus: Boolean, \r\n      $Title: String, \r\n      $Category: String, \r\n      $Type: String\r\n    ) {\r\n      Contents(\r\n        Limit: $Limit,\r\n        Page: $Page, \r\n        OrderBy: $OrderBy, \r\n        OrderType: $OrderType, \r\n        PublishStatus: $PublishStatus, \r\n        Title: $Title, \r\n        Category: $Category, \r\n        Type: $Type\r\n      ) {\r\n        Data {\r\n          Id\r\n          Title\r\n          Description\r\n          Thumbnail\r\n          Url\r\n          PublishStatus\r\n          Category\r\n          Type\r\n          Order\r\n        }\r\n        DataCount\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit,\r\n\t\t\tPage,\r\n\t\t\tOrderBy: 'CreatedDate',\r\n\t\t\tOrderType: 'DESC',\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function addAssignment({\r\n\tTitle,\r\n\tDescription,\r\n\tThumbnail,\r\n\tUrl,\r\n\tCategory,\r\n\tType,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $Title: String!, \r\n      $Description: String, \r\n      $Thumbnail: String, \r\n      $Url: String,\r\n      $PublishStatus: Boolean!, \r\n      $Category: String!, \r\n      $Type: String!, \r\n      $Order: Int\r\n    ) {\r\n      CreateContent(\r\n        Title: $Title, \r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        Url: $Url,\r\n        PublishStatus: $PublishStatus, \r\n        Category: $Category, \r\n        Type: $Type,\r\n        Order: $Order\r\n      ) {\r\n        Id\r\n        Title\r\n        Description\r\n        Thumbnail\r\n        Url\r\n        PublishStatus\r\n        Category\r\n        Type\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tTitle,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tUrl,\r\n\t\t\tCategory,\r\n\t\t\tType,\r\n\t\t\tPublishStatus: true,\r\n\t\t\tOrder: null,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editAssignment({\r\n\tId,\r\n\tTitle,\r\n\tDescription,\r\n\tThumbnail,\r\n\tUrl,\r\n\tCategory,\r\n\tType,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $Title: String, \r\n      $Description: String, \r\n      $Thumbnail: String, \r\n      $Url: String,\r\n      $PublishStatus: Boolean, \r\n      $Category: String, \r\n      $Type: String, \r\n      $Order: Int\r\n    ) {\r\n      UpdateContent(\r\n        Id: $Id,\r\n        Title: $Title, \r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        Url: $Url,\r\n        PublishStatus: $PublishStatus, \r\n        Category: $Category, \r\n        Type: $Type,\r\n        Order: $Order\r\n      ) {\r\n        Id\r\n        Title\r\n        Description\r\n        Thumbnail\r\n        Url\r\n        PublishStatus\r\n        Category\r\n        Type\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tTitle,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tUrl,\r\n\t\t\tCategory,\r\n\t\t\tType,\r\n\t\t\tOrder: null,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function switchPublish({ Id, PublishStatus }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $PublishStatus: Boolean, \r\n    ) {\r\n      UpdateContent(\r\n        Id: $Id,\r\n        PublishStatus: $PublishStatus, \r\n      ) {\r\n        Id\r\n        PublishStatus\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tPublishStatus,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function deleteAssignment({ Id }) {\r\n\tconst query = `\r\n    mutation ($Id: String!) {\r\n      DeleteContent(Id: $Id) {\r\n        message\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","// Enum\r\n\r\nexport const PENUGASAN = 'TUGAS';\r\nexport const MATERI = 'MATERI';\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tPageHeader,\r\n\tTable,\r\n\tTag,\r\n\tSpace,\r\n\tButton,\r\n\tSwitch,\r\n\tRow,\r\n\tForm,\r\n\tmessage as Message,\r\n\tModal,\r\n} from 'antd';\r\nimport {\r\n\tEditFilled,\r\n\tDeleteFilled,\r\n\tReadFilled,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport AddNewAssignmentModal from 'Components/Modal/AddNewAssignmentModal';\r\n\r\nimport useModal from 'Hooks/useModal';\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\tgetAssignmentList,\r\n\taddAssignment,\r\n\tdeleteAssignment,\r\n\teditAssignment,\r\n\tswitchPublish,\r\n} from 'Service/Assignment';\r\nimport { PENUGASAN, MATERI } from 'Constants/assignmentConst';\r\n\r\nimport './Assignment.scss';\r\n\r\nconst { Column } = Table;\r\nconst { confirm } = Modal;\r\n\r\nexport default function Assignment() {\r\n\tconst [firstLoad, setFirstLoad] = useState(true);\r\n\tconst [assignmentData, setAssignmentData] = useState([]);\r\n\tconst [pageProperty, setPageProperty] = useState({\r\n\t\tcurrent: 1,\r\n\t\tdataCount: 1,\r\n\t});\r\n\tconst [isEdit, setIsEdit] = useState(false);\r\n\tconst [selectedAssignment, setSelectedAssignment] = useState(null);\r\n\r\n\tconst [isFormModalVisible, openFormModal, closeFormModal] = useModal();\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [switchLoading, showSwitchLoading, hideSwitchLoading] = useLoading();\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tasync function getAssignment() {\r\n\t\tshowFetchLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tContents: { DataCount, Data },\r\n\t\t\t\t},\r\n\t\t\t} = await getAssignmentList({ Page: pageProperty.current });\r\n\r\n\t\t\tif (firstLoad) setFirstLoad(false);\r\n\r\n\t\t\tsetAssignmentData([...Data]);\r\n\t\t\tsetPageProperty({\r\n\t\t\t\t...pageProperty,\r\n\t\t\t\tdataCount: DataCount,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAssignment();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad) return;\r\n\r\n\t\tgetAssignment();\r\n\t}, [pageProperty.current, setPageProperty]);\r\n\r\n\tfunction handleOpen() {\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleClose() {\r\n\t\tif (isEdit) setIsEdit(false);\r\n\r\n\t\tcloseFormModal();\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\tfunction handleChangePage(page) {\r\n\t\tsetPageProperty({\r\n\t\t\t...pageProperty,\r\n\t\t\tcurrent: page,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleEdit(assignment) {\r\n\t\tsetSelectedAssignment(assignment);\r\n\t\tsetIsEdit(true);\r\n\r\n\t\tform.setFieldsValue(assignment);\r\n\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleSubmit() {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tif (isEdit) {\r\n\t\t\t\tlet tempVal = {\r\n\t\t\t\t\t...selectedAssignment,\r\n\t\t\t\t\t...values,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn editExistingAssignment(tempVal);\r\n\t\t\t}\r\n\r\n\t\t\treturn addNewAssignment(values);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleDelete(Id) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Apakah Anda yakin?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Ya',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Batalkan',\r\n\t\t\tonOk() {\r\n\t\t\t\tdeleteExistingAssignment(Id);\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t}\r\n\r\n\tasync function handleChangeStatus(Id, PublishStatus) {\r\n\t\tshowSwitchLoading();\r\n\t\ttry {\r\n\t\t\tconst res = await switchPublish({ Id, PublishStatus: !PublishStatus });\r\n\r\n\t\t\tgetAssignment();\r\n\r\n\t\t\tMessage.success('Status Tugas/Materi berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSwitchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function addNewAssignment(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst { data } = await addAssignment({ ...values });\r\n\r\n\t\t\tgetAssignment();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Tugas/Materi berhasil ditambahkan');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function editExistingAssignment(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tconst { data } = await editAssignment({ ...values });\r\n\r\n\t\t\tgetAssignment();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Tugas/Materi berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function deleteExistingAssignment(Id) {\r\n\t\ttry {\r\n\t\t\tconst res = await deleteAssignment({ Id });\r\n\t\t\tgetAssignment();\r\n\r\n\t\t\tMessage.success('Tugas/Materi berhasil dihapus');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Penugasan\" />\r\n\t\t\t<div className=\"assignment-table-container\">\r\n\t\t\t\t<Row className=\"assignment-add-container\" align=\"middle\" justify=\"end\">\r\n\t\t\t\t\t<Button type=\"primary\" icon={<ReadFilled />} onClick={handleOpen}>\r\n\t\t\t\t\t\tTambah Tugas/Materi Baru\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tdataSource={assignmentData}\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tposition: ['bottomCenter'],\r\n\t\t\t\t\t\tcurrent: pageProperty.current,\r\n\t\t\t\t\t\ttotal: pageProperty.dataCount,\r\n\t\t\t\t\t\tonChange: handleChangePage,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trowKey=\"Id\"\r\n\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Column title=\"Judul Tugas\" dataIndex=\"Title\" key=\"Title\" />\r\n\t\t\t\t\t<Column title=\"Kategori\" dataIndex=\"Category\" key=\"Category\" />\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Tipe\"\r\n\t\t\t\t\t\tdataIndex=\"Type\"\r\n\t\t\t\t\t\tkey=\"Type\"\r\n\t\t\t\t\t\trender={(type) => {\r\n\t\t\t\t\t\t\tif (type === PENUGASAN) return <Tag color=\"blue\">Penugasan</Tag>;\r\n\t\t\t\t\t\t\tif (type === MATERI) return <Tag color=\"red\">Materi</Tag>;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Tampilkan\"\r\n\t\t\t\t\t\tdataIndex=\"PublishStatus\"\r\n\t\t\t\t\t\tkey=\"PublishStatus\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tloading={switchLoading}\r\n\t\t\t\t\t\t\t\tchecked={record.PublishStatus}\r\n\t\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\t\thandleChangeStatus(record.Id, record.PublishStatus)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Aksi\"\r\n\t\t\t\t\t\tkey=\"action\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<EditFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleEdit(record)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSunting\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<DeleteFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(record.Id)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tHapus\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t\t<AddNewAssignmentModal\r\n\t\t\t\tisVisible={isFormModalVisible}\r\n\t\t\t\tisEdit={isEdit}\r\n\t\t\t\taddLoading={submitLoading}\r\n\t\t\t\thandleCancel={handleClose}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tformObject={form}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Form, Input } from 'antd';\r\n\r\nconst layout = {\r\n\tlayout: 'vertical',\r\n};\r\n\r\nexport default function UserModal({\r\n\tisVisible,\r\n\tmodalType,\r\n\taddLoading,\r\n\thandleSubmit,\r\n\thandleCancel,\r\n\tformObject,\r\n}) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={modalType === 'new' ? 'Tambahkan Pengguna' : 'Sunting Pengguna'}\r\n\t\t\tvisible={isVisible}\r\n\t\t\tonOk={handleSubmit}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tokText={modalType !== 'new' ? 'Simpan' : 'Buat Baru'}\r\n\t\t\tcancelText=\"Batal\"\r\n\t\t\tconfirmLoading={addLoading}\r\n\t\t\tforceRender\r\n\t\t>\r\n\t\t\t<Form\r\n\t\t\t\t{...layout}\r\n\t\t\t\tform={formObject}\r\n\t\t\t\tname=\"addNewAssignmentForm\"\r\n\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\tclassName=\"add-assignment\"\r\n\t\t\t>\r\n\t\t\t\t{(modalType === 'new' || modalType === 'edit') && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tlabel=\"Nama\"\r\n\t\t\t\t\t\t\tname=\"Name\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Isi nama terlebih dahulu !' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input placeholder=\"Nama pengguna\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\tname=\"Email\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Isi Email terlebih dahulu!' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input placeholder=\"Email pengguna\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{modalType === 'setPassword' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"OldPassword\"\r\n\t\t\t\t\t\t\tlabel=\"Password Lama\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Please input your old password!' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"NewPassword\"\r\n\t\t\t\t\t\t\tlabel=\"Password Baru\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Please input your new password!' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"confirm\"\r\n\t\t\t\t\t\t\tlabel=\"Konfirmasi Password Baru\"\r\n\t\t\t\t\t\t\tdependencies={['NewPassword']}\r\n\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: 'Please confirm your new password!',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t({ getFieldValue }) => ({\r\n\t\t\t\t\t\t\t\t\tvalidator(rule, value) {\r\n\t\t\t\t\t\t\t\t\t\tif (!value || getFieldValue('NewPassword') === value) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn Promise.reject(\r\n\t\t\t\t\t\t\t\t\t\t\t'The two passwords that you entered do not match!'\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{modalType === 'new' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"Password\"\r\n\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'Please input your password!' },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"confirm\"\r\n\t\t\t\t\t\t\tlabel=\"Konfirmasi Password\"\r\n\t\t\t\t\t\t\tdependencies={['Password']}\r\n\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: 'Please confirm your password!',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t({ getFieldValue }) => ({\r\n\t\t\t\t\t\t\t\t\tvalidator(rule, value) {\r\n\t\t\t\t\t\t\t\t\t\tif (!value || getFieldValue('Password') === value) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn Promise.reject(\r\n\t\t\t\t\t\t\t\t\t\t\t'The two passwords that you entered do not match!'\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\nUserModal.propTypes = {\r\n\tisVisible: PropTypes.bool.isRequired,\r\n\tmodalType: PropTypes.string.isRequired,\r\n\taddLoading: PropTypes.bool.isRequired,\r\n\thandleSubmit: PropTypes.func.isRequired,\r\n\thandleCancel: PropTypes.func.isRequired,\r\n\tformObject: PropTypes.object,\r\n};\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport { sha256 } from 'js-sha256';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport function getUserList({ Page, Limit = 10 }) {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!, \r\n    ) {\r\n      Users(\r\n        Limit: $Limit,\r\n        Page: $Page, \r\n      ) {\r\n        Data {\r\n          Id\r\n          Name\r\n          Email\r\n          IsActive\r\n        }\r\n        DataCount\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit,\r\n\t\t\tPage,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function addUser({ Name, Email, Password }) {\r\n\tconst hashedPass = sha256(Password);\r\n\tconst query = `\r\n    mutation (\r\n      $Name: String!, \r\n      $Email: String!, \r\n      $Password: String!,\r\n      $IsActive: Boolean, \r\n    ) {\r\n      Register (\r\n        Name: $Name, \r\n        Email: $Email,\r\n        Password: $Password,\r\n        IsActive: $IsActive,\r\n      ) {\r\n        Id\r\n        Name\r\n        Email\r\n        IsActive\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tName,\r\n\t\t\tEmail,\r\n\t\t\tPassword: hashedPass,\r\n\t\t\tIsActive: false,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editUserProfile({ Id, Name, Email }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $Name: String, \r\n      $Email: String,\r\n    ) {\r\n      UpdateUserProfile(\r\n        Id: $Id,\r\n        Name: $Name, \r\n        Email: $Email,\r\n      ) {\r\n        Id\r\n        Name\r\n        Email\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tName,\r\n\t\t\tEmail,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function switchIsActive({ Id, IsActive }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $IsActive: Boolean, \r\n    ) {\r\n      UpdateUserProfile(\r\n        Id: $Id,\r\n        IsActive: $IsActive, \r\n      ) {\r\n        Id\r\n        IsActive\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tIsActive,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport async function UpdateUserPassword({ OldPassword, NewPassword }) {\r\n  const hashedOldPass = await sha256(OldPassword);\r\n  const hashedNewPass = await sha256(NewPassword);\r\n\r\n\tconst query = `\r\n    mutation (\r\n      $OldPassword: String!,\r\n      $NewPassword: String!, \r\n    ) {\r\n        UpdateUserPassword(\r\n          OldPassword: $OldPassword,\r\n          NewPassword: $NewPassword, \r\n      ) {\r\n        Id\r\n        Name\r\n        Email\r\n        IsActive\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tOldPassword: hashedOldPass,\r\n\t\t\tNewPassword: hashedNewPass,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport {\r\n\tPageHeader,\r\n\tTable,\r\n\tSpace,\r\n\tButton,\r\n\tSwitch,\r\n\tRow,\r\n\tForm,\r\n\tmessage as Message,\r\n\t// Modal,\r\n} from 'antd';\r\nimport {\r\n\tEditFilled,\r\n\t// DeleteFilled,\r\n\tUserAddOutlined,\r\n\tKeyOutlined,\r\n\t// ExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport UserModal from 'Components/Modal/UserModal';\r\nimport './User.scss';\r\n\r\nimport useModal from 'Hooks/useModal';\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\taddUser,\r\n\tgetUserList,\r\n\teditUserProfile,\r\n\tswitchIsActive,\r\n\tUpdateUserPassword,\r\n} from 'Service/User';\r\n\r\nconst { Column } = Table;\r\n// const { confirm } = Modal;\r\n\r\nexport default function User() {\r\n\tconst history = useHistory();\r\n\tconst [firstLoad, setFirstLoad] = useState(true);\r\n\tconst [userData, setUserData] = useState([]);\r\n\tconst [pageProperty, setPageProperty] = useState({\r\n\t\tcurrent: 1,\r\n\t\tdataCount: 1,\r\n\t});\r\n\tconst [modalType, setModalType] = useState('');\r\n\tconst [selectedUser, setSelectedUser] = useState(null);\r\n\r\n\tconst [isFormModalVisible, openFormModal, closeFormModal] = useModal();\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [switchLoading, setSwitchLoading] = useState('');\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tasync function getUser() {\r\n\t\tshowFetchLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tUsers: { DataCount, Data },\r\n\t\t\t\t},\r\n\t\t\t} = await getUserList({ Page: pageProperty.current });\r\n\r\n\t\t\tif (firstLoad) setFirstLoad(false);\r\n\r\n\t\t\tsetUserData([...Data]);\r\n\t\t\tsetPageProperty({\r\n\t\t\t\t...pageProperty,\r\n\t\t\t\tdataCount: DataCount,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetUser();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad) return;\r\n\r\n\t\tgetUser();\r\n\t}, [pageProperty.current, setPageProperty]);\r\n\r\n\tfunction handleOpen() {\r\n\t\topenFormModal();\r\n\t\tsetModalType('new');\r\n\t}\r\n\r\n\tfunction handleChangePage(page) {\r\n\t\tsetPageProperty({\r\n\t\t\t...pageProperty,\r\n\t\t\tcurrent: page,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleClose() {\r\n\t\tif (modalType !== '') setModalType('');\r\n\r\n\t\tcloseFormModal();\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\tfunction handleEdit(user) {\r\n\t\tsetSelectedUser(user);\r\n\t\tsetModalType('edit');\r\n\r\n\t\tform.setFieldsValue(user);\r\n\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleSetPassword() {\r\n\t\tsetModalType('setPassword');\r\n\t\topenFormModal();\r\n\t}\r\n\r\n\tfunction handleSubmit() {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tif (modalType === 'edit') {\r\n\t\t\t\tlet tempVal = {\r\n\t\t\t\t\t...selectedUser,\r\n\t\t\t\t\t...values,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn editExistingUser(tempVal);\r\n\t\t\t}\r\n\r\n\t\t\tif (modalType === 'setPassword') {\r\n\t\t\t\tlet tempVal = {\r\n\t\t\t\t\t...values,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn updatePasswordUser(tempVal);\r\n\t\t\t}\r\n\r\n\t\t\treturn addNewUser(values);\r\n\t\t});\r\n\t}\r\n\r\n\t// function handleDelete(Id) {\r\n\t// \tconfirm({\r\n\t// \t\ttitle: 'Apakah Anda yakin?',\r\n\t// \t\ticon: <ExclamationCircleOutlined />,\r\n\t// \t\tokText: 'Ya',\r\n\t// \t\tokType: 'danger',\r\n\t// \t\tcancelText: 'Batalkan',\r\n\t// \t\tonOk() {\r\n\t// \t\t\tdeleteExistingAssignment(Id);\r\n\t// \t\t},\r\n\t// \t\tonCancel() {},\r\n\t// \t});\r\n\t// }\r\n\r\n\tasync function handleChangeStatus(Id, IsActive) {\r\n\t\tsetSwitchLoading(Id);\r\n\t\ttry {\r\n\t\t\tawait switchIsActive({ Id, IsActive: !IsActive });\r\n\t\t\tgetUser();\r\n\r\n\t\t\tMessage.success('Pengguna berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\tsetSwitchLoading('');\r\n\t\t}\r\n\t}\r\n\r\n\tasync function addNewUser(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait addUser({ ...values });\r\n\r\n\t\t\tgetUser();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Pengguna berhasil ditambahkan');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function editExistingUser(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait editUserProfile({ ...values });\r\n\r\n\t\t\tgetUser();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Pengguna berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function updatePasswordUser(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait UpdateUserPassword({ ...values });\r\n\r\n\t\t\tgetUser();\r\n\r\n\t\t\tform.resetFields();\r\n\t\t\tcloseFormModal();\r\n\t\t\tMessage.success('Password anda berhasil diubah');\r\n\t\t\tonLogout();\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\t// async function deleteExistingAssignment(Id) {\r\n\t// \ttry {\r\n\t// \t\tconst res = await deleteAssignment({ Id });\r\n\t// \t\tgetAssignment();\r\n\r\n\t// \t\tMessage.success('Tugas/Materi berhasil dihapus');\r\n\t// \t} catch (e) {\r\n\t// \t\tconst { message } = e;\r\n\t// \t\tMessage.error(message);\r\n\t// \t}\r\n\t// }\r\n\r\n\tfunction onLogout() {\r\n\t\tCookies.remove('MPKMB_ADMIN_TOKEN');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\talert('Anda telah mengganti password silahkan login ulang');\r\n\t\t\thistory.push('/');\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Menejemen Pengguna\" />\r\n\t\t\t<div className=\"assignment-table-container\">\r\n\t\t\t\t<Row className=\"assignment-add-container\" align=\"middle\" justify=\"end\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mr-5\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={<UserAddOutlined />}\r\n\t\t\t\t\t\tonClick={handleOpen}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTambah Pengguna\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={<KeyOutlined />}\r\n\t\t\t\t\t\tonClick={() => handleSetPassword()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tGanti Password Anda\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tdataSource={userData}\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tposition: ['bottomCenter'],\r\n\t\t\t\t\t\tcurrent: pageProperty.current,\r\n\t\t\t\t\t\ttotal: pageProperty.dataCount,\r\n\t\t\t\t\t\tonChange: handleChangePage,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trowKey=\"Id\"\r\n\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Column title=\"Nama Pengguna\" dataIndex=\"Name\" key=\"Name\" />\r\n\t\t\t\t\t<Column title=\"Email Pengguna\" dataIndex=\"Email\" key=\"Email\" />\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Aktivasi\"\r\n\t\t\t\t\t\tdataIndex=\"IsActive\"\r\n\t\t\t\t\t\tkey=\"IsActive\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tloading={switchLoading === record.Id}\r\n\t\t\t\t\t\t\t\tchecked={record.IsActive}\r\n\t\t\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\t\t\thandleChangeStatus(record.Id, record.IsActive);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Aksi\"\r\n\t\t\t\t\t\tkey=\"action\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<EditFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleEdit(record)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSunting\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t\t<UserModal\r\n\t\t\t\tisVisible={isFormModalVisible}\r\n\t\t\t\tmodalType={modalType}\r\n\t\t\t\taddLoading={submitLoading}\r\n\t\t\t\thandleCancel={handleClose}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tformObject={form}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","// dipake buat rich text\r\n\r\nimport { sha256 } from 'js-sha256';\r\nconst url = process.env.REACT_APP_API_URL;\r\n\r\nexport function mutationGraphql({ headers, query, variables }) {\r\n\tconst getUrl = new URL(url);\r\n\tgetUrl.searchParams.append('hash', sha256(query));\r\n\r\n\tconst config = {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\t...headers,\r\n\t\t},\r\n\t\tbody: JSON.stringify({\r\n\t\t\tquery,\r\n\t\t\tvariables,\r\n\t\t}),\r\n\t};\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tfetch(new URL(url), config)\r\n\t\t\t.then((response) => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (response.errors && response.errors.length > 0)\r\n\t\t\t\t\treturn reject(response.errors[0]);\r\n\t\t\t\tresolve(response);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\treject(err);\r\n\t\t\t});\r\n\t});\r\n}\r\n","import { fetchGraphql } from 'Utils/fetchGraphql';\r\nimport { mutationGraphql } from 'Utils/mutationGraphql';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport function getOrganizationContentList({ Page, Limit = 10 }) {\r\n\tconst query = `\r\n    query (\r\n      $Limit: Int!, \r\n      $Page: Int!, \r\n      $OrderBy: OrganizationContentOrderBy, \r\n      $OrderType: OrderType, \r\n      $PublishStatus: Boolean, \r\n      $Title: String, \r\n      $Category: String,\r\n    ) {\r\n\tOrganizationContents(\r\n        Limit: $Limit,\r\n        Page: $Page, \r\n        OrderBy: $OrderBy, \r\n        OrderType: $OrderType, \r\n        PublishStatus: $PublishStatus, \r\n        Title: $Title, \r\n        Category: $Category,\r\n      ) {\r\n        Data {\r\n          Id\r\n          Title\r\n          Subtitle\r\n          Description\r\n          Thumbnail\r\n          Article\r\n          Url\r\n          UrlFile\r\n          LineUrl\r\n          TwitterUrl\r\n          YoutubeUrl\r\n          InstagramUrl\r\n          Email\r\n          Category\r\n          PublishStatus\r\n          Order\r\n        }\r\n        DataCount\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tLimit,\r\n\t\t\tPage,\r\n\t\t\tOrderBy: 'CreatedDate',\r\n\t\t\tOrderType: 'DESC',\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function addOrganizationContent({\r\n\tTitle,\r\n\tSubtitle,\r\n\tDescription,\r\n\tThumbnail,\r\n\tArticle,\r\n\tUrl,\r\n\tUrlFile,\r\n\tLineUrl,\r\n\tTwitterUrl,\r\n\tYoutubeUrl,\r\n\tInstagramUrl,\r\n\tEmail,\r\n\tCategory,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n        $Title: String!,\r\n        $Subtitle: String,\r\n        $Description: String,\r\n        $Thumbnail: String,\r\n        $Article: String,\r\n        $Url: String,\r\n        $UrlFile: String,\r\n        $LineUrl: String,\r\n        $TwitterUrl: String,\r\n        $YoutubeUrl: String,\r\n        $InstagramUrl: String,\r\n        $Email: String,\r\n        $Category: String!,\r\n        $PublishStatus: Boolean,\r\n        $Order: Int,\r\n    ) {\r\n\tCreateOrganizationContent (\r\n        Title: $Title,\r\n        Subtitle: $Subtitle,\r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        Article: $Article,\r\n        Url: $Url,\r\n        UrlFile: $UrlFile,\r\n        LineUrl: $LineUrl,\r\n        TwitterUrl: $TwitterUrl,\r\n        YoutubeUrl: $YoutubeUrl,\r\n        InstagramUrl: $InstagramUrl,\r\n        Email: $Email,\r\n        Category: $Category,\r\n        PublishStatus: $PublishStatus,\r\n        Order: $Order,\r\n      ) {\r\n        Id\r\n        Title\r\n        Subtitle\r\n        Description\r\n        Thumbnail\r\n        Article\r\n        Url\r\n        UrlFile\r\n        LineUrl\r\n        TwitterUrl\r\n        YoutubeUrl\r\n        InstagramUrl\r\n        Email\r\n        Category\r\n        PublishStatus\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = mutationGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tTitle,\r\n\t\t\tSubtitle,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tArticle,\r\n\t\t\tUrl,\r\n\t\t\tUrlFile,\r\n\t\t\tLineUrl,\r\n\t\t\tTwitterUrl,\r\n\t\t\tYoutubeUrl,\r\n\t\t\tInstagramUrl,\r\n\t\t\tEmail,\r\n\t\t\tCategory,\r\n\t\t\tPublishStatus: false,\r\n\t\t\tOrder: null,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function editOrganizationContent({\r\n\tId,\r\n\tTitle,\r\n\tSubtitle,\r\n\tDescription,\r\n\tThumbnail,\r\n\tArticle,\r\n\tUrl,\r\n\tUrlFile,\r\n\tLineUrl,\r\n\tTwitterUrl,\r\n\tYoutubeUrl,\r\n\tInstagramUrl,\r\n\tEmail,\r\n\tCategory,\r\n\tPublishStatus,\r\n\tOrder,\r\n}) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $Title: String,\r\n      $Subtitle: String,\r\n      $Description: String,\r\n      $Thumbnail: String,\r\n      $Article: String,\r\n      $Url: String,\r\n      $UrlFile: String,\r\n      $LineUrl: String,\r\n      $TwitterUrl: String,\r\n      $YoutubeUrl: String,\r\n      $InstagramUrl: String,\r\n      $Email: String,\r\n      $Category: String,\r\n      $PublishStatus: Boolean,\r\n      $Order: Int,\r\n    ) {\r\n\tUpdateOrganizationContent (\r\n        Id: $Id,\r\n        Title: $Title,\r\n        Subtitle: $Subtitle,\r\n        Description: $Description,\r\n        Thumbnail: $Thumbnail,\r\n        Article: $Article,\r\n        Url: $Url,\r\n        UrlFile: $UrlFile,\r\n        LineUrl: $LineUrl,\r\n        TwitterUrl: $TwitterUrl,\r\n        YoutubeUrl: $YoutubeUrl,\r\n        InstagramUrl: $InstagramUrl,\r\n        Email: $Email,\r\n        Category: $Category,\r\n        PublishStatus: $PublishStatus,\r\n        Order: $Order,\r\n      ) {\r\n        Id\r\n        Title\r\n        Subtitle\r\n        Description\r\n        Thumbnail\r\n        Article\r\n        Url\r\n        UrlFile\r\n        LineUrl\r\n        TwitterUrl\r\n        YoutubeUrl\r\n        InstagramUrl\r\n        Email\r\n        Category\r\n        PublishStatus\r\n        Order\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = mutationGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tTitle,\r\n\t\t\tSubtitle,\r\n\t\t\tDescription,\r\n\t\t\tThumbnail,\r\n\t\t\tArticle,\r\n\t\t\tUrl,\r\n\t\t\tUrlFile,\r\n\t\t\tLineUrl,\r\n\t\t\tTwitterUrl,\r\n\t\t\tYoutubeUrl,\r\n\t\t\tInstagramUrl,\r\n\t\t\tEmail,\r\n\t\t\tCategory,\r\n\t\t\tPublishStatus,\r\n\t\t\tOrder: Order,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function switchPublish({ Id, PublishStatus }) {\r\n\tconst query = `\r\n    mutation (\r\n      $Id: String!,\r\n      $PublishStatus: Boolean, \r\n    ) {\r\n\tUpdateOrganizationContent (\r\n        Id: $Id,\r\n        PublishStatus: $PublishStatus, \r\n      ) {\r\n        Id\r\n        PublishStatus\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t\tPublishStatus,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function deleteOrganizationContent({ Id }) {\r\n\tconst query = `\r\n    mutation ($Id: String!) {\r\n\t\tDeleteOrganizationContent(Id: $Id) {\r\n        message\r\n      }\r\n    }  \r\n  `;\r\n\r\n\tconst res = fetchGraphql({\r\n\t\theaders: {\r\n\t\t\tAuthorization: `${Cookies.getJSON('MPKMB_ADMIN_TOKEN').Token}`,\r\n\t\t},\r\n\t\tquery,\r\n\t\tvariables: {\r\n\t\t\tId,\r\n\t\t},\r\n\t});\r\n\r\n\treturn res;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n\tPageHeader,\r\n\tTable,\r\n\tSpace,\r\n\tButton,\r\n\tSwitch,\r\n\tRow,\r\n\tmessage as Message,\r\n\tModal,\r\n} from 'antd';\r\nimport {\r\n\tEditFilled,\r\n\tDeleteFilled,\r\n\tUserAddOutlined,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\tgetOrganizationContentList,\r\n\tdeleteOrganizationContent,\r\n\tswitchPublish,\r\n} from 'Service/OrganizationContent';\r\n\r\nconst { Column } = Table;\r\nconst { confirm } = Modal;\r\n\r\nexport default function OrganizationContent() {\r\n\tconst history = useHistory();\r\n\tconst [firstLoad, setFirstLoad] = useState(true);\r\n\tconst [organizationData, setOrganizationData] = useState([]);\r\n\tconst [pageProperty, setPageProperty] = useState({\r\n\t\tcurrent: 1,\r\n\t\tdataCount: 1,\r\n\t});\r\n\r\n\tconst [fetchLoading, showFetchLoading, hideFetchLoading] = useLoading();\r\n\tconst [switchLoading, setSwitchLoading] = useState('');\r\n\r\n\tasync function getData() {\r\n\t\tshowFetchLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tOrganizationContents: { DataCount, Data },\r\n\t\t\t\t},\r\n\t\t\t} = await getOrganizationContentList({ Page: pageProperty.current });\r\n\r\n\t\t\tif (firstLoad) setFirstLoad(false);\r\n\r\n\t\t\tsetOrganizationData([...Data]);\r\n\t\t\tsetPageProperty({\r\n\t\t\t\t...pageProperty,\r\n\t\t\t\tdataCount: DataCount,\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideFetchLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetData();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstLoad) return;\r\n\t\tgetData();\r\n\t}, [pageProperty.current, setPageProperty]);\r\n\r\n\tfunction handleChangePage(page) {\r\n\t\tsetPageProperty({\r\n\t\t\t...pageProperty,\r\n\t\t\tcurrent: page,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleEdit(data) {\r\n\t\twindow.sessionStorage.setItem('editContent', JSON.stringify(data));\r\n\t\thistory.push(`/admin/ukm-ormawa/${data.Id}/sunting`);\r\n\t}\r\n\r\n\tfunction handleDelete(Id) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Apakah Anda yakin?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Ya',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Batalkan',\r\n\t\t\tonOk() {\r\n\t\t\t\tdeleteExistingOrganizationContent(Id);\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t}\r\n\r\n\tasync function handleChangeStatus(Id, PublishStatus) {\r\n\t\tsetSwitchLoading(Id);\r\n\t\ttry {\r\n\t\t\tawait switchPublish({ Id, PublishStatus: !PublishStatus });\r\n\t\t\tgetData();\r\n\r\n\t\t\tMessage.success('Pengguna berhasil diubah');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\tsetSwitchLoading('');\r\n\t\t}\r\n\t}\r\n\r\n\tasync function deleteExistingOrganizationContent(Id) {\r\n\t\ttry {\r\n\t\t\tawait deleteOrganizationContent({ Id });\r\n\t\t\tgetData();\r\n\r\n\t\t\tMessage.success('Konten Organisasi berhasil dihapus');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Menejemen UKM & ORMAWA\" />\r\n\t\t\t<div className=\"assignment-table-container\">\r\n\t\t\t\t<Row className=\"assignment-add-container\" align=\"middle\" justify=\"end\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mr-5\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={<UserAddOutlined />}\r\n\t\t\t\t\t\tonClick={() => history.push('/admin/ukm-ormawa/tambah')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTambah UKM / ORMAWA\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tdataSource={organizationData}\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tposition: ['bottomCenter'],\r\n\t\t\t\t\t\tcurrent: pageProperty.current,\r\n\t\t\t\t\t\ttotal: pageProperty.dataCount,\r\n\t\t\t\t\t\tonChange: handleChangePage,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trowKey=\"Id\"\r\n\t\t\t\t\tloading={fetchLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Column title=\"Nama Organisasi\" dataIndex=\"Title\" key=\"Title\" />\r\n\t\t\t\t\t<Column title=\"Category\" dataIndex=\"Category\" key=\"Category\" />\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Tampilkan\"\r\n\t\t\t\t\t\tdataIndex=\"PublishStatus\"\r\n\t\t\t\t\t\tkey=\"PublishStatus\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tloading={switchLoading === record.Id}\r\n\t\t\t\t\t\t\t\tchecked={record.PublishStatus}\r\n\t\t\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\t\t\thandleChangeStatus(record.Id, record.PublishStatus);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Column\r\n\t\t\t\t\t\ttitle=\"Aksi\"\r\n\t\t\t\t\t\tkey=\"action\"\r\n\t\t\t\t\t\trender={(text, record) => (\r\n\t\t\t\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<EditFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleEdit(record)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSunting\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<DeleteFilled />}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(record.Id)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tHapus\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\n\r\nfunction RichTextEditor({ textValue, onTextChange }) {\r\n\tfunction onEditorStateChange(editorState) {\r\n\t\tonTextChange(editorState);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Editor\r\n\t\t\t\teditorState={textValue}\r\n\t\t\t\tonEditorStateChange={onEditorStateChange}\r\n\t\t\t\t// wrapperClassName=\"wrapper-class\"\r\n\t\t\t\t// editorClassName=\"editor-class\"\r\n\t\t\t\t// toolbarClassName=\"toolbar-class\"\r\n\t\t\t\twrapperClassName=\"demo-wrapper\"\r\n\t\t\t\teditorClassName=\"demo-editor\"\r\n\t\t\t\twrapperStyle={{\r\n\t\t\t\t\tminHeight: 500,\r\n\t\t\t\t\tborder: '1px solid #e0e0e0',\r\n\t\t\t\t}}\r\n\t\t\t\teditorStyle={{\r\n\t\t\t\t\tminHeight: 490,\r\n\t\t\t\t\tborder: '1px solid #e0e0e0',\r\n\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\tborderRadius: 2,\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t}}\r\n\t\t\t\ttoolbar={{\r\n\t\t\t\t\tinline: {\r\n\t\t\t\t\t\tinDropdown: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlist: { inDropdown: true },\r\n\t\t\t\t\ttextAlign: { inDropdown: true },\r\n\t\t\t\t\tlink: { inDropdown: true },\r\n\t\t\t\t\thistory: { inDropdown: true },\r\n\t\t\t\t\temoji: { inDropdown: false },\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nRichTextEditor.propTypes = {\r\n\ttextValue: PropTypes.string.isRequired,\r\n\tonTextChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default RichTextEditor;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport {\r\n\tEditorState,\r\n\tconvertFromHTML,\r\n\tContentState,\r\n\tconvertToRaw,\r\n} from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport {\r\n\tRow,\r\n\tPageHeader,\r\n\tForm,\r\n\tInput,\r\n\tDivider,\r\n\tButton,\r\n\tSelect,\r\n\tmessage as Message,\r\n} from 'antd';\r\nimport {} from '@ant-design/icons';\r\n\r\nimport RichTextEditor from '../../Components/RichTextEditor/RichTextEditor';\r\n\r\nimport useLoading from 'Hooks/useLoading';\r\n\r\nimport {\r\n\taddOrganizationContent,\r\n\teditOrganizationContent,\r\n} from 'Service/OrganizationContent';\r\n\r\nexport default function OrganizationContentForm() {\r\n\tconst history = useHistory();\r\n\tlet location = useLocation();\r\n\tconst [type, setType] = useState('');\r\n\tconst [editorValue, setEditorValue] = useState(EditorState.createEmpty());\r\n\tconst [editContent, setEditContent] = useState({});\r\n\tconst [submitLoading, showSubmitLoading, hideSubmitLoading] = useLoading();\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst type = location.pathname.substring(\r\n\t\t\tlocation.pathname.lastIndexOf('/') + 1\r\n\t\t);\r\n\t\tif (type === 'sunting') {\r\n\t\t\tsetType('sunting');\r\n\t\t\tconst editContent = JSON.parse(sessionStorage.getItem('editContent'));\r\n\t\t\tsetEditContent(editContent);\r\n\t\t\tform.setFieldsValue(editContent);\r\n\r\n\t\t\tconst blocksFromHTML = convertFromHTML(editContent.Article);\r\n\t\t\tconst state = ContentState.createFromBlockArray(\r\n\t\t\t\tblocksFromHTML.contentBlocks,\r\n\t\t\t\tblocksFromHTML.entityMap\r\n\t\t\t);\r\n\t\t\tsetEditorValue(EditorState.createWithContent(state));\r\n\t\t}\r\n\t}, []);\r\n\r\n\tfunction handleSubmit() {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tif (type === 'sunting') {\r\n\t\t\t\tvalues.Article = draftToHtml(\r\n\t\t\t\t\tconvertToRaw(editorValue.getCurrentContent())\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet tempVal = {\r\n\t\t\t\t\t...editContent,\r\n\t\t\t\t\t...values,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn editExistingData(tempVal);\r\n\t\t\t}\r\n\t\t\tvalues.Article = draftToHtml(\r\n\t\t\t\tconvertToRaw(editorValue.getCurrentContent())\r\n\t\t\t);\r\n\t\t\treturn addNewData(values);\r\n\t\t});\r\n\t}\r\n\r\n\tasync function editExistingData(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait editOrganizationContent({ ...values });\r\n\t\t\tform.resetFields();\r\n\t\t\tMessage.success('Data organisasi berhasil diubah');\r\n\t\t\tsessionStorage.removeItem('editContent');\r\n\t\t\thistory.push('/admin/ukm-ormawa');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function addNewData(values) {\r\n\t\tshowSubmitLoading();\r\n\t\ttry {\r\n\t\t\tawait addOrganizationContent({ ...values });\r\n\t\t\tform.resetFields();\r\n\t\t\tMessage.success('Data organisasi berhasil ditambahkan');\r\n\t\t\tform.resetFields();\r\n\t\t\tsessionStorage.removeItem('editContent');\r\n\t\t\thistory.push('/admin/ukm-ormawa');\r\n\t\t} catch (e) {\r\n\t\t\tconst { message } = e;\r\n\t\t\tMessage.error(message);\r\n\t\t} finally {\r\n\t\t\thideSubmitLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onCancel() {\r\n\t\tform.resetFields();\r\n\t\tsessionStorage.removeItem('editContent');\r\n\t\thistory.push('/admin/ukm-ormawa');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader title=\"Form UMK / Ormawa\" />\r\n\t\t\t<div className=\"assignment-table-container\">\r\n\t\t\t\t<Form form={form} layout=\"vertical\">\r\n\t\t\t\t\t<Form.Item name=\"Title\" label=\"Judul\" rules={[{ required: true }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmarginBottom: '15px',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel=\"Kategori\"\r\n\t\t\t\t\t\tname=\"Category\"\r\n\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t{ required: true, message: 'Isi Kategori terlebih dahulu!' },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Select style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t<Select.Option value=\"UKM\">UKM</Select.Option>\r\n\t\t\t\t\t\t\t<Select.Option value=\"COMMUNITY\">Ormawa</Select.Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Subtitle\"\r\n\t\t\t\t\t\t\tlabel=\"Sub Judul\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Thumbnail\"\r\n\t\t\t\t\t\t\tlabel=\"Thumbnail\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"Description\"\r\n\t\t\t\t\t\tlabel=\"Deskripsi\"\r\n\t\t\t\t\t\t// rules={[{ required: true }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.TextArea rows={6} />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<RichTextEditor\r\n\t\t\t\t\t\ttextValue={editorValue}\r\n\t\t\t\t\t\tonTextChange={(value) => setEditorValue(value)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Divider orientation=\"left\">Link</Divider>\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Url\"\r\n\t\t\t\t\t\t\tlabel=\"External Link\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"UrlFile\"\r\n\t\t\t\t\t\t\tlabel=\"File Link\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Divider orientation=\"left\">Sosial Media</Divider>\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"LineUrl\"\r\n\t\t\t\t\t\t\tlabel=\"Line\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"TwitterUrl\"\r\n\t\t\t\t\t\t\tlabel=\"Twitter\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"YoutubeUrl\"\r\n\t\t\t\t\t\t\tlabel=\"Youtube\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"InstagramUrl\"\r\n\t\t\t\t\t\t\tlabel=\"Instagram\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Email\"\r\n\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{/* <Form.Item\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\twidth: 'calc(48% - 12px)',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tname=\"Instagram\"\r\n\t\t\t\t\t\t\tlabel=\"Instagram\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<Row justify=\"end\">\r\n\t\t\t\t\t\t<Button className=\"mr-5\" onClick={onCancel}>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{type === 'sunting' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tonClick={() => handleSubmit()}\r\n\t\t\t\t\t\t\t\t// icon={<UserAddOutlined />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSimpan\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tloading={submitLoading}\r\n\t\t\t\t\t\t\t\t// icon={<UserAddOutlined />}\r\n\t\t\t\t\t\t\t\tonClick={() => handleSubmit()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tTambahkan\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nOrganizationContentForm.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport history from 'Utils/history';\r\nimport PropTypes from 'prop-types';\r\nimport Cookies from 'js-cookie';\r\n\r\nimport LayoutBase from 'Components/Layout/LayoutBase';\r\n\r\nimport Login from 'Pages/Login/Login';\r\nimport Dashboard from 'Pages/Dashboard/Dashboard';\r\nimport Assignment from 'Pages/Assignment/Assignment';\r\nimport User from 'Pages/User/User';\r\nimport {\r\n\tOrganizationContent,\r\n\tOrganizationContentForm,\r\n} from 'Pages/OrganizationContent';\r\n\r\nexport const ROUTES = [\r\n\t{\r\n\t\tpath: '/login',\r\n\t\tkey: 'LOGIN',\r\n\t\texact: true,\r\n\t\tlayout: false,\r\n\t\tcomponent: Login,\r\n\t},\r\n\t{\r\n\t\tpath: '/admin',\r\n\t\tkey: 'ADMIN_ROUTES',\r\n\t\tcomponent: CheckAuth,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin',\r\n\t\t\t\tkey: 'DASHBOARD',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: Dashboard,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/penugasan',\r\n\t\t\t\tkey: 'ASSIGNMENT',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: Assignment,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/pengguna',\r\n\t\t\t\tkey: 'USER',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: User,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/ukm-ormawa',\r\n\t\t\t\tkey: 'UKM-ORMAWA',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: OrganizationContent,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/ukm-ormawa/tambah',\r\n\t\t\t\tkey: 'ADD_UKM_ORMAWA',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: OrganizationContentForm,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/ukm-ormawa/:id/sunting',\r\n\t\t\t\tkey: 'SUNTING_UKM_ORMAWA',\r\n\t\t\t\texact: true,\r\n\t\t\t\tlayout: true,\r\n\t\t\t\tcomponent: OrganizationContentForm,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nfunction CheckAuth(props) {\r\n\tif (!Cookies.get('MPKMB_ADMIN_TOKEN')) {\r\n\t\talert('Anda harus login terlebih dahulu!');\r\n\t\treturn <Redirect to={'/'} />;\r\n\t}\r\n\treturn <RenderRoutes {...props} />;\r\n}\r\n\r\nfunction ModifiedRoute(route) {\r\n\tconst { layout } = route;\r\n\r\n\tif (!layout)\r\n\t\treturn (\r\n\t\t\t<Route\r\n\t\t\t\tpath={route.path}\r\n\t\t\t\texact={route.exact}\r\n\t\t\t\trender={(props) => <route.component {...props} routes={route.routes} />}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<LayoutBase>\r\n\t\t\t<Route\r\n\t\t\t\tpath={route.path}\r\n\t\t\t\texact={route.exact}\r\n\t\t\t\trender={(props) => <route.component {...props} routes={route.routes} />}\r\n\t\t\t/>\r\n\t\t</LayoutBase>\r\n\t);\r\n}\r\n\r\nexport default function RenderRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Router history={history}>\r\n\t\t\t<Switch>\r\n\t\t\t\t{routes.map((route) => {\r\n\t\t\t\t\treturn <ModifiedRoute key={route.key} {...route} />;\r\n\t\t\t\t})}\r\n\t\t\t\t<Route exact path=\"/\" component={() => <Redirect to=\"/login\" />} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<h1>Not Found!</h1>\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t);\r\n}\r\n\r\nRenderRoutes.propTypes = {\r\n\troutes: PropTypes.arrayOf(\r\n\t\tPropTypes.shape({\r\n\t\t\troute: PropTypes.object,\r\n\t\t})\r\n\t),\r\n};\r\n","import React from 'react';\r\nimport RenderRoutes, { ROUTES } from './routes';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<RenderRoutes routes={ROUTES} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}