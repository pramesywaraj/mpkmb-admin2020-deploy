(this["webpackJsonpmpkmb-admin"]=this["webpackJsonpmpkmb-admin"]||[]).push([[0],{181:function(e,a,t){e.exports=t.p+"static/media/logo.4b68e09c.svg"},208:function(e,a,t){e.exports=t(369)},213:function(e,a,t){},215:function(e,a,t){},269:function(e,a,t){},347:function(e,a,t){},354:function(e,a,t){},368:function(e,a,t){},369:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(16),s=t.n(i),c=(t(213),t(371)),l=t(67),u=Object(l.a)(),o=t(42),m=t.n(o),d=t(32),p=(t(214),t(370)),b=t(64),h=t(377),g=t(383),f=t(384),E=t(385),y=t(386),O=(t(215),t(181)),v=t.n(O),P=(p.a.Header,p.a.Content),w=p.a.Footer,T=p.a.Sider,I=(b.a.SubMenu,h.a.Text),k=h.a.Link,S=[{id:"1",route:"/",name:"Dashboard",icon:r.a.createElement(g.a,null)},{id:"2",route:"/penugasan",name:"Penugasan",icon:r.a.createElement(f.a,null)},{id:"3",route:"/pengguna",name:"Pengguna",icon:r.a.createElement(E.a,null)}];function j(e){var a=e.children,t=Object(n.useState)(!1),i=Object(d.a)(t,2),s=i[0],l=i[1],u=Object(c.e)();return r.a.createElement(p.a,{className:"layout-container"},r.a.createElement(T,{collapsible:!0,collapsed:s,onCollapse:function(e){l(e)}},r.a.createElement("div",{className:"layout-logo"},r.a.createElement("img",{src:v.a,alt:"Logo MPKMB 2020"})),r.a.createElement(b.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},S.map((function(e){var a=e.id,t=e.icon,n=e.name,i=e.route;return r.a.createElement(b.a.Item,{key:a,icon:t,onClick:function(){return function(e){u.push("/admin".concat(e))}(i)}},n)})),r.a.createElement(b.a.Item,{key:"logout",icon:r.a.createElement(y.a,null),onClick:function(){m.a.remove("MPKMB_ADMIN_TOKEN"),setTimeout((function(){alert("Anda telah keluar dari aplikasi ini."),u.push("/")}))}},"Keluar"))),r.a.createElement(p.a,{className:"site-layout"},r.a.createElement(P,{className:"layout-content-container"},a),r.a.createElement(w,{style:{textAlign:"center"}},r.a.createElement(I,{mark:!0,className:"with-love-text"},"Created with"," ",r.a.createElement("span",{role:"img","aria-label":"love-emoji"},"\u2764\ufe0f")," ","by ",r.a.createElement(k,{href:"https://codepanda.id/"},"Codepanda")))))}var N=t(34),$=t.n(N),x=t(38),C=t(47),M=t(75);t(269);function A(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],r=a[1];return[t,function(){r(!0)},function(){r(!1)}]}var B="http://api.mpkmb.ipb.ac.id/graphql";function D(e){var a=e.headers,t=e.query,n=e.variables,r=new URL(B);r.searchParams.append("hash",Object(M.sha256)(t)),r.searchParams.append("variables",JSON.stringify(n));var i={method:"GET",headers:Object(x.a)({"Content-Type":"application/json"},a)},s={method:"POST",headers:i.headers,body:JSON.stringify({query:t,variables:n})};return new Promise((function(e,a){fetch(r,i).then((function(e){if(e&&(400===e.status||405===e.status))throw Error(e.status);return e.json()})).then((function(a){e(a)})).catch((function(t){"400"===t.message||"405"===t.message?fetch(new URL(B),s).then((function(e){return e.json()})).then((function(t){if(t.errors&&t.errors.length>0)return a(t.errors[0]);e(t)})).catch((function(e){a(e)})):a(t)}))}))}function K(e){return D({query:"\n      mutation(\n        $Email: String!,\n        $Password: String!\n      ) {\n        Login(\n          Email: $Email,\n          Password: $Password\n        ) {\n          Token\n        }\n      }\n    ",variables:{Email:e.Email,Password:e.Password}})}var F=t(375),U=t(205),q=t(374),_=t(379),L=t(48),J=h.a.Title,z=h.a.Text,R=h.a.Link,V={labelCol:{span:5}},G={wrapperCol:{offset:5}};var H=t(378),W=t(380);t(347),h.a.Title;var Y=t(142),Q=t(373),X=t(376),Z=t(104),ee=t(381),ae=t(382),te=t(372),ne=t(387),re=t(388),ie=t(389),se=t(117),ce={layout:"vertical"},le=se.a.Option;function ue(e){var a=e.isVisible,t=e.isEdit,n=e.addLoading,i=e.handleSubmit,s=e.handleCancel,c=e.formObject;return r.a.createElement(X.a,{title:"Tambah Tugas/Materi Baru",visible:a,onOk:i,onCancel:s,okText:t?"Simpan":"Buat Baru",cancelText:"Batal",confirmLoading:n,forceRender:!0},r.a.createElement(F.a,Object.assign({},ce,{form:c,name:"addNewAssignmentForm",initialValues:{remember:!0},className:"add-assignment"}),r.a.createElement(F.a.Item,{style:{marginBottom:"15px"},label:"Judul",name:"Title",rules:[{required:!0,message:"Isi Judul terlebih dahulu!"}]},r.a.createElement(_.a,{placeholder:"Judul tugas/materi"})),r.a.createElement(F.a.Item,{style:{marginBottom:"15px"},label:"Tipe",name:"Type",rules:[{required:!0,message:"Isi Tipe terlebih dahulu!"}]},r.a.createElement(se.a,{style:{width:"100%"}},r.a.createElement(le,{value:"TUGAS"},"Penugasan"),r.a.createElement(le,{value:"MATERI"},"Materi"))),r.a.createElement(F.a.Item,{style:{marginBottom:"15px"},label:"Deskripsi",name:"Description",rules:[{required:!0,message:"Isi Deskripsi terlebih dahulu!"}]},r.a.createElement(_.a.TextArea,{placeholder:"Deskripsi tugas/materi",autoSize:{minRows:3,maxRows:6}})),r.a.createElement(F.a.Item,{style:{marginBottom:"15px"},label:"Thumbnail Tugas/Materi",name:"Thumbnail",rules:[{required:!0,message:"Isi link gambar thumbnail terlebih dahulu!"}]},r.a.createElement(_.a,{placeholder:"Link untuk thumbnail"})),r.a.createElement(F.a.Item,{style:{marginBottom:"15px"},label:"Link Tugas/Materi",name:"Url",rules:[{required:!0,message:"Isi link untuk tugas/materi terlebih dahulu!"}]},r.a.createElement(_.a,{placeholder:"Link untuk tugas/materi"})),r.a.createElement(F.a.Item,{style:{marginBottom:"15px"},label:"Kategori",name:"Category",rules:[{required:!0,message:"Isi kategori terlebih dahulu!"}]},r.a.createElement(_.a,{placeholder:"Ketegori untuk judul pada tab"}))))}function oe(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],r=a[1];return[t,function(){r(!0)},function(){r(!1)}]}function me(e){var a=e.Page,t=e.Limit,n=void 0===t?10:t;return D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    query (\n      $Limit: Int!, \n      $Page: Int!, \n      $OrderBy: ContentOrderBy, \n      $OrderType: OrderType, \n      $PublishStatus: Boolean, \n      $Title: String, \n      $Category: String, \n      $Type: String\n    ) {\n      Contents(\n        Limit: $Limit,\n        Page: $Page, \n        OrderBy: $OrderBy, \n        OrderType: $OrderType, \n        PublishStatus: $PublishStatus, \n        Title: $Title, \n        Category: $Category, \n        Type: $Type\n      ) {\n        Data {\n          Id\n          Title\n          Description\n          Thumbnail\n          Url\n          PublishStatus\n          Category\n          Type\n          Order\n        }\n        DataCount\n      }\n    }  \n  ",variables:{Limit:n,Page:a,OrderBy:"CreatedDate",OrderType:"DESC"}})}function de(e){var a=e.Title,t=e.Description,n=e.Thumbnail,r=e.Url,i=e.Category,s=e.Type;return D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    mutation (\n      $Title: String!, \n      $Description: String, \n      $Thumbnail: String, \n      $Url: String,\n      $PublishStatus: Boolean!, \n      $Category: String!, \n      $Type: String!, \n      $Order: Int\n    ) {\n      CreateContent(\n        Title: $Title, \n        Description: $Description,\n        Thumbnail: $Thumbnail,\n        Url: $Url,\n        PublishStatus: $PublishStatus, \n        Category: $Category, \n        Type: $Type,\n        Order: $Order\n      ) {\n        Id\n        Title\n        Description\n        Thumbnail\n        Url\n        PublishStatus\n        Category\n        Type\n        Order\n      }\n    }  \n  ",variables:{Title:a,Description:t,Thumbnail:n,Url:r,Category:i,Type:s,PublishStatus:!0,Order:null}})}function pe(e){var a=e.Id,t=e.Title,n=e.Description,r=e.Thumbnail,i=e.Url,s=e.Category,c=e.Type;return D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    mutation (\n      $Id: String!,\n      $Title: String, \n      $Description: String, \n      $Thumbnail: String, \n      $Url: String,\n      $PublishStatus: Boolean, \n      $Category: String, \n      $Type: String, \n      $Order: Int\n    ) {\n      UpdateContent(\n        Id: $Id,\n        Title: $Title, \n        Description: $Description,\n        Thumbnail: $Thumbnail,\n        Url: $Url,\n        PublishStatus: $PublishStatus, \n        Category: $Category, \n        Type: $Type,\n        Order: $Order\n      ) {\n        Id\n        Title\n        Description\n        Thumbnail\n        Url\n        PublishStatus\n        Category\n        Type\n        Order\n      }\n    }  \n  ",variables:{Id:a,Title:t,Description:n,Thumbnail:r,Url:i,Category:s,Type:c,Order:null}})}function be(e){var a=e.Id,t=e.PublishStatus;return D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    mutation (\n      $Id: String!,\n      $PublishStatus: Boolean, \n    ) {\n      UpdateContent(\n        Id: $Id,\n        PublishStatus: $PublishStatus, \n      ) {\n        Id\n        PublishStatus\n      }\n    }  \n  ",variables:{Id:a,PublishStatus:t}})}function he(e){var a=e.Id;return D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    mutation ($Id: String!) {\n      DeleteContent(Id: $Id) {\n        message\n      }\n    }  \n  ",variables:{Id:a}})}t(354);var ge=Q.a.Column,fe=X.a.confirm;var Ee=t(390),ye=t(391),Oe={layout:"vertical"};function ve(e){var a=e.isVisible,t=e.modalType,n=e.addLoading,i=e.handleSubmit,s=e.handleCancel,c=e.formObject;return r.a.createElement(X.a,{title:"new"===t?"Tambahkan Pengguna":"Sunting Pengguna",visible:a,onOk:i,onCancel:s,okText:"new"!==t?"Simpan":"Buat Baru",cancelText:"Batal",confirmLoading:n,forceRender:!0},r.a.createElement(F.a,Object.assign({},Oe,{form:c,name:"addNewAssignmentForm",initialValues:{remember:!0},className:"add-assignment"}),("new"===t||"edit"===t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Item,{style:{marginBottom:"15px"},label:"Nama",name:"Name",rules:[{required:!0,message:"Isi nama terlebih dahulu !"}]},r.a.createElement(_.a,{placeholder:"Nama pengguna"})),r.a.createElement(F.a.Item,{style:{marginBottom:"15px"},label:"Email",name:"Email",rules:[{required:!0,message:"Isi Email terlebih dahulu!"}]},r.a.createElement(_.a,{placeholder:"Email pengguna"}))),"setPassword"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Item,{name:"OldPassword",label:"Password Lama",rules:[{required:!0,message:"Please input your old password!"}]},r.a.createElement(_.a.Password,null)),r.a.createElement(F.a.Item,{name:"NewPassword",label:"Password Baru",rules:[{required:!0,message:"Please input your new password!"}],hasFeedback:!0},r.a.createElement(_.a.Password,null)),r.a.createElement(F.a.Item,{name:"confirm",label:"Konfirmasi Password Baru",dependencies:["NewPassword"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your new password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("NewPassword")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(_.a.Password,null))),"new"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Item,{name:"Password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(_.a.Password,null)),r.a.createElement(F.a.Item,{name:"confirm",label:"Konfirmasi Password",dependencies:["Password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("Password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(_.a.Password,null)))))}t(368);function Pe(e){var a=e.Page,t=e.Limit,n=void 0===t?10:t;return D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    query (\n      $Limit: Int!, \n      $Page: Int!, \n    ) {\n      Users(\n        Limit: $Limit,\n        Page: $Page, \n      ) {\n        Data {\n          Id\n          Name\n          Email\n          IsActive\n        }\n        DataCount\n      }\n    }  \n  ",variables:{Limit:n,Page:a}})}function we(e){var a=e.Name,t=e.Email,n=e.Password,r=Object(M.sha256)(n);return D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    mutation (\n      $Name: String!, \n      $Email: String!, \n      $Password: String!,\n      $IsActive: Boolean, \n    ) {\n      Register (\n        Name: $Name, \n        Email: $Email,\n        Password: $Password,\n        IsActive: $IsActive,\n      ) {\n        Id\n        Name\n        Email\n        IsActive\n      }\n    }  \n  ",variables:{Name:a,Email:t,Password:r,IsActive:!1}})}function Te(e){var a=e.Id,t=e.Name,n=e.Email;return D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    mutation (\n      $Id: String!,\n      $Name: String, \n      $Email: String,\n    ) {\n      UpdateUserProfile(\n        Id: $Id,\n        Name: $Name, \n        Email: $Email,\n      ) {\n        Id\n        Name\n        Email\n      }\n    }  \n  ",variables:{Id:a,Name:t,Email:n}})}function Ie(e){var a=e.Id,t=e.IsActive;return D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    mutation (\n      $Id: String!,\n      $IsActive: Boolean, \n    ) {\n      UpdateUserProfile(\n        Id: $Id,\n        IsActive: $IsActive, \n      ) {\n        Id\n        IsActive\n      }\n    }  \n  ",variables:{Id:a,IsActive:t}})}function ke(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(C.a)($.a.mark((function e(a){var t,n,r,i,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.OldPassword,n=a.NewPassword,e.next=3,Object(M.sha256)(t);case 3:return r=e.sent,e.next=6,Object(M.sha256)(n);case 6:return i=e.sent,"\n    mutation (\n      $OldPassword: String!,\n      $NewPassword: String!, \n    ) {\n        UpdateUserPassword(\n          OldPassword: $OldPassword,\n          NewPassword: $NewPassword, \n      ) {\n        Id\n        Name\n        Email\n        IsActive\n      }\n    }  \n  ",s=D({headers:{Authorization:"".concat(m.a.getJSON("MPKMB_ADMIN_TOKEN").Token)},query:"\n    mutation (\n      $OldPassword: String!,\n      $NewPassword: String!, \n    ) {\n        UpdateUserPassword(\n          OldPassword: $OldPassword,\n          NewPassword: $NewPassword, \n      ) {\n        Id\n        Name\n        Email\n        IsActive\n      }\n    }  \n  ",variables:{OldPassword:r,NewPassword:i}}),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=Q.a.Column;var Ne=[{path:"/login",key:"LOGIN",exact:!0,layout:!1,component:function(){var e=F.a.useForm(),a=Object(d.a)(e,1)[0],t=Object(c.e)(),i=A(),s=Object(d.a)(i,3),l=s[0],u=s[1],o=s[2];function p(){return(p=Object(C.a)($.a.mark((function e(){var n,r,i,s,c,l,d;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),n=Object(x.a)({},a.getFieldsValue()),r=n.email,i=n.password,s=Object(M.sha256)(i),e.prev=4,e.next=7,K({Email:r,Password:s});case 7:return c=e.sent,l=c.data.Login,e.next=11,m.a.set("MPKMB_ADMIN_TOKEN",l);case 11:U.b.success("Anda berhasil masuk"),setTimeout((function(){t.push("/admin")}),1e3),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),d=e.t0.message,U.b.error(d);case 19:return e.prev=19,o(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,15,19,22]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){m.a.get("MPKMB_ADMIN_TOKEN")&&t.push("/admin")}),[]),r.a.createElement("div",{className:"container login-container"},r.a.createElement(J,null,"MPKMB 2020"),r.a.createElement(q.a,{title:"Login untuk Masuk",bordered:!1,className:"login-card"},r.a.createElement(F.a,Object.assign({},V,{form:a,name:"basic",className:"login-form",onFinish:function(){return p.apply(this,arguments)}}),r.a.createElement(F.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Isi Email terlebih dahulu!"}]},r.a.createElement(_.a,null)),r.a.createElement(F.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Isi Password terlebih dahulu!"}]},r.a.createElement(_.a.Password,null)),r.a.createElement(F.a.Item,Object.assign({},G,{className:"login-button-submit"}),r.a.createElement(L.a,{type:"primary",htmlType:"submit",block:!0,loading:l},"Submit")))),r.a.createElement(z,{mark:!0,className:"with-love-text"},"Created with"," ",r.a.createElement("span",{role:"img","aria-label":"love-emoji"},"\u2764\ufe0f")," ","by ",r.a.createElement(R,{href:"https://codepanda.id/"},"Codepanda")))}},{path:"/admin",key:"ADMIN_ROUTES",component:function(e){if(!m.a.get("MPKMB_ADMIN_TOKEN"))return alert("Anda harus login terlebih dahulu!"),r.a.createElement(c.a,{to:"/"});return r.a.createElement(xe,e)},routes:[{path:"/admin",key:"DASHBOARD",exact:!0,layout:!0,component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{title:"Dashboard"}),r.a.createElement("div",{className:"dashboard-container"},r.a.createElement(W.a,{message:"Selamat datang di panel admin MPKMB 2020",description:"Saat ini panel admin MPKMB 2020 sedang dalam tahap pengembangan. Apabila pengguna menemukan kesalahan pada sistem, silahkan hubungi pengembang.",type:"warning",showIcon:!0})))}},{path:"/admin/penugasan",key:"ASSIGNMENT",exact:!0,layout:!0,component:function(){var e=Object(n.useState)(!0),a=Object(d.a)(e,2),t=a[0],i=a[1],s=Object(n.useState)([]),c=Object(d.a)(s,2),l=c[0],u=c[1],o=Object(n.useState)({current:1,dataCount:1}),m=Object(d.a)(o,2),p=m[0],b=m[1],h=Object(n.useState)(!1),g=Object(d.a)(h,2),E=g[0],y=g[1],O=Object(n.useState)(null),v=Object(d.a)(O,2),P=v[0],w=v[1],T=oe(),I=Object(d.a)(T,3),k=I[0],S=I[1],j=I[2],N=A(),M=Object(d.a)(N,3),B=M[0],D=M[1],K=M[2],q=A(),_=Object(d.a)(q,3),J=_[0],z=_[1],R=_[2],V=A(),G=Object(d.a)(V,3),W=G[0],X=G[1],se=G[2],ce=F.a.useForm(),le=Object(d.a)(ce,1)[0];function Ee(){return ye.apply(this,arguments)}function ye(){return(ye=Object(C.a)($.a.mark((function e(){var a,n,r,s,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(),e.prev=1,e.next=4,me({Page:p.current});case 4:a=e.sent,n=a.data.Contents,r=n.DataCount,s=n.Data,t&&i(!1),u(Object(Y.a)(s)),b(Object(x.a)(Object(x.a)({},p),{},{dataCount:r})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),c=e.t0.message,U.b.error(c);case 17:return e.prev=17,R(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,13,17,20]])})))).apply(this,arguments)}function Oe(e){fe({title:"Apakah Anda yakin?",icon:r.a.createElement(ne.a,null),okText:"Ya",okType:"danger",cancelText:"Batalkan",onOk:function(){!function(e){Te.apply(this,arguments)}(e)},onCancel:function(){}})}function ve(){return(ve=Object(C.a)($.a.mark((function e(a,t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(),e.prev=1,e.next=4,be({Id:a,PublishStatus:!t});case 4:e.sent,Ee(),U.b.success("Status Tugas/Materi berhasil diubah"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n=e.t0.message,U.b.error(n);case 13:return e.prev=13,se(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})))).apply(this,arguments)}function Pe(){return(Pe=Object(C.a)($.a.mark((function e(a){var t,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(),e.prev=1,e.next=4,de(Object(x.a)({},a));case 4:t=e.sent,t.data,Ee(),le.resetFields(),j(),U.b.success("Tugas/Materi berhasil ditambahkan"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),n=e.t0.message,U.b.error(n);case 16:return e.prev=16,K(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})))).apply(this,arguments)}function we(){return(we=Object(C.a)($.a.mark((function e(a){var t,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(),e.prev=1,e.next=4,pe(Object(x.a)({},a));case 4:t=e.sent,t.data,Ee(),le.resetFields(),j(),U.b.success("Tugas/Materi berhasil diubah"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),n=e.t0.message,U.b.error(n);case 16:return e.prev=16,K(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})))).apply(this,arguments)}function Te(){return(Te=Object(C.a)($.a.mark((function e(a){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he({Id:a});case 3:e.sent,Ee(),U.b.success("Tugas/Materi berhasil dihapus"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t=e.t0.message,U.b.error(t);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){Ee()}),[]),Object(n.useEffect)((function(){t||Ee()}),[p.current,b]),r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{title:"Penugasan"}),r.a.createElement("div",{className:"assignment-table-container"},r.a.createElement(Z.a,{className:"assignment-add-container",align:"middle",justify:"end"},r.a.createElement(L.a,{type:"primary",icon:r.a.createElement(f.a,null),onClick:function(){S()}},"Tambah Tugas/Materi Baru")),r.a.createElement(Q.a,{dataSource:l,pagination:{position:["bottomCenter"],current:p.current,total:p.dataCount,onChange:function(e){b(Object(x.a)(Object(x.a)({},p),{},{current:e}))}},rowKey:"Id",loading:J},r.a.createElement(ge,{title:"Judul Tugas",dataIndex:"Title",key:"Title"}),r.a.createElement(ge,{title:"Kategori",dataIndex:"Category",key:"Category"}),r.a.createElement(ge,{title:"Tipe",dataIndex:"Type",key:"Type",render:function(e){return"TUGAS"===e?r.a.createElement(ee.a,{color:"blue"},"Penugasan"):"MATERI"===e?r.a.createElement(ee.a,{color:"red"},"Materi"):void 0}}),r.a.createElement(ge,{title:"Tampilkan",dataIndex:"PublishStatus",key:"PublishStatus",render:function(e,a){return r.a.createElement(ae.a,{loading:W,checked:a.PublishStatus,onChange:function(){return function(e,a){return ve.apply(this,arguments)}(a.Id,a.PublishStatus)}})}}),r.a.createElement(ge,{title:"Aksi",key:"action",render:function(e,a){return r.a.createElement(te.a,{size:"middle"},r.a.createElement(L.a,{type:"primary",icon:r.a.createElement(re.a,null),onClick:function(){return w(e=a),y(!0),le.setFieldsValue(e),void S();var e}},"Sunting"),r.a.createElement(L.a,{danger:!0,type:"primary",icon:r.a.createElement(ie.a,null),onClick:function(){return Oe(a.Id)}},"Hapus"))}}))),r.a.createElement(ue,{isVisible:k,isEdit:E,addLoading:B,handleCancel:function(){E&&y(!1),j(),le.resetFields()},handleSubmit:function(){le.validateFields().then((function(e){return E?function(e){return we.apply(this,arguments)}(Object(x.a)(Object(x.a)({},P),e)):function(e){return Pe.apply(this,arguments)}(e)}))},formObject:le}))}},{path:"/admin/pengguna",key:"USER",exact:!0,layout:!0,component:function(){var e=Object(c.e)(),a=Object(n.useState)(!0),t=Object(d.a)(a,2),i=t[0],s=t[1],l=Object(n.useState)([]),u=Object(d.a)(l,2),o=u[0],p=u[1],b=Object(n.useState)({current:1,dataCount:1}),h=Object(d.a)(b,2),g=h[0],f=h[1],E=Object(n.useState)(""),y=Object(d.a)(E,2),O=y[0],v=y[1],P=Object(n.useState)(null),w=Object(d.a)(P,2),T=w[0],I=w[1],k=oe(),S=Object(d.a)(k,3),j=S[0],N=S[1],M=S[2],B=A(),D=Object(d.a)(B,3),K=D[0],q=D[1],_=D[2],J=A(),z=Object(d.a)(J,3),R=z[0],V=z[1],G=z[2],W=A(),X=Object(d.a)(W,3),ee=X[0],ne=X[1],ie=X[2],se=F.a.useForm(),ce=Object(d.a)(se,1)[0];function le(){return ue.apply(this,arguments)}function ue(){return(ue=Object(C.a)($.a.mark((function e(){var a,t,n,r,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(),e.prev=1,e.next=4,Pe({Page:g.current});case 4:a=e.sent,t=a.data.Users,n=t.DataCount,r=t.Data,i&&s(!1),p(Object(Y.a)(r)),f(Object(x.a)(Object(x.a)({},g),{},{dataCount:n})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),c=e.t0.message,U.b.error(c);case 17:return e.prev=17,G(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,13,17,20]])})))).apply(this,arguments)}function me(){return(me=Object(C.a)($.a.mark((function e(a,t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(),e.prev=1,e.next=4,Ie({Id:a,IsActive:!t});case 4:le(),U.b.success("Pengguna berhasil diubah"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n=e.t0.message,U.b.error(n);case 12:return e.prev=12,ie(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})))).apply(this,arguments)}function de(){return(de=Object(C.a)($.a.mark((function e(a){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(),e.prev=1,e.next=4,we(Object(x.a)({},a));case 4:le(),ce.resetFields(),M(),U.b.success("Pengguna berhasil ditambahkan"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t=e.t0.message,U.b.error(t);case 14:return e.prev=14,_(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})))).apply(this,arguments)}function pe(){return(pe=Object(C.a)($.a.mark((function e(a){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(),e.prev=1,e.next=4,Te(Object(x.a)({},a));case 4:le(),ce.resetFields(),M(),U.b.success("Pengguna berhasil diubah"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t=e.t0.message,U.b.error(t);case 14:return e.prev=14,_(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})))).apply(this,arguments)}function be(){return(be=Object(C.a)($.a.mark((function e(a){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(),e.prev=1,e.next=4,ke(Object(x.a)({},a));case 4:le(),ce.resetFields(),M(),U.b.success("Password anda berhasil diubah"),he(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t=e.t0.message,U.b.error(t);case 15:return e.prev=15,_(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}function he(){m.a.remove("MPKMB_ADMIN_TOKEN"),setTimeout((function(){alert("Anda telah mengganti password silahkan login ulang"),e.push("/")}))}return Object(n.useEffect)((function(){le()}),[]),Object(n.useEffect)((function(){i||le()}),[g.current,f]),r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{title:"Menejemen Pengguna"}),r.a.createElement("div",{className:"assignment-table-container"},r.a.createElement(Z.a,{className:"assignment-add-container",align:"middle",justify:"end"},r.a.createElement(L.a,{className:"mr-5",type:"primary",icon:r.a.createElement(Ee.a,null),onClick:function(){N(),v("new")}},"Tambah Pengguna"),r.a.createElement(L.a,{danger:!0,type:"primary",icon:r.a.createElement(ye.a,null),onClick:function(){return v("setPassword"),void N()}},"Ganti Password Anda")),r.a.createElement(Q.a,{dataSource:o,pagination:{position:["bottomCenter"],current:g.current,total:g.dataCount,onChange:function(e){f(Object(x.a)(Object(x.a)({},g),{},{current:e}))}},rowKey:"Id",loading:R},r.a.createElement(je,{title:"Nama Pengguna",dataIndex:"Name",key:"Name"}),r.a.createElement(je,{title:"Email Pengguna",dataIndex:"Email",key:"Email"}),r.a.createElement(je,{title:"Aktivasi",dataIndex:"IsActive",key:"IsActive",render:function(e,a){return r.a.createElement(ae.a,{loading:ee,checked:a.IsActive,onChange:function(){!function(e,a){me.apply(this,arguments)}(a.Id,a.IsActive)}})}}),r.a.createElement(je,{title:"Aksi",key:"action",render:function(e,a){return r.a.createElement(te.a,{size:"middle"},r.a.createElement(L.a,{type:"primary",icon:r.a.createElement(re.a,null),onClick:function(){return I(e=a),v("edit"),ce.setFieldsValue(e),void N();var e}},"Sunting"))}}))),r.a.createElement(ve,{isVisible:j,modalType:O,addLoading:K,handleCancel:function(){""!==O&&v(""),M(),ce.resetFields()},handleSubmit:function(){ce.validateFields().then((function(e){return"edit"===O?function(e){return pe.apply(this,arguments)}(Object(x.a)(Object(x.a)({},T),e)):"setPassword"===O?function(e){return be.apply(this,arguments)}(Object(x.a)({},e)):function(e){return de.apply(this,arguments)}(e)}))},formObject:ce}))}}]}];function $e(e){return e.layout?r.a.createElement(j,null,r.a.createElement(c.b,{path:e.path,exact:e.exact,render:function(a){return r.a.createElement(e.component,Object.assign({},a,{routes:e.routes}))}})):r.a.createElement(c.b,{path:e.path,exact:e.exact,render:function(a){return r.a.createElement(e.component,Object.assign({},a,{routes:e.routes}))}})}function xe(e){var a=e.routes;return r.a.createElement(c.c,{history:u},r.a.createElement(c.d,null,a.map((function(e){return r.a.createElement($e,Object.assign({key:e.key},e))})),r.a.createElement(c.b,{exact:!0,path:"/",component:function(){return r.a.createElement(c.a,{to:"/login"})}}),r.a.createElement(c.b,null,r.a.createElement("h1",null,"Not Found!"))))}var Ce=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(xe,{routes:Ne}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.11b7e1cb.chunk.js.map